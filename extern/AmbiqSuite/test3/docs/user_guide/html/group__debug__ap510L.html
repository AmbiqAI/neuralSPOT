<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: General Debug Functionality</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;SDK 5.2.alpha.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">General Debug Functionality<div class="ingroups"><a class="el" href="group__hal.html">mcu</a> &raquo; <a class="el" href="group__apollo330P__hal.html">apollo330P</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This module provides general debug operation functions for Apollo5 devices. It supports debug enable/disable, power management, trace configuration, and TPIU clock setup for development and debugging.</p>
<h1><a class="anchor" id="hal_debug_features"></a>
Key Features</h1>
<ol type="1">
<li><b>Debug</b> <b>Enable/Disable</b>: Control debug operation state.</li>
<li><b>Power</b> <b>Management:</b> Manage debug power domain.</li>
<li><b>Trace</b> <b>Configuration:</b> Enable/disable trace and TPIU clock.</li>
<li><b>Counter</b> <b>Management:</b> Track debug and trace enable counts.</li>
<li><b>MCUCTRL</b> <b>Integration:</b> Integrate with MCU control registers.</li>
</ol>
<h1><a class="anchor" id="hal_debug_functionality"></a>
Functionality</h1>
<ul>
<li>Enable and disable debug operation</li>
<li>Manage debug power domain and counters</li>
<li>Configure trace and TPIU clock</li>
<li>Integrate with MCU control registers</li>
<li>Track debug and trace enable/disable counts</li>
</ul>
<h1><a class="anchor" id="hal_debug_usage"></a>
Usage</h1>
<ol type="1">
<li>Enable debug using <a class="el" href="#ga9b22ec617ed72030db9d813abe123923">am_hal_debug_enable()</a></li>
<li>Disable debug using <a class="el" href="#ga5c708f068c2a72d318cf233fb4393edc">am_hal_debug_disable()</a></li>
<li>Manage debug power and trace configuration</li>
<li>Track debug and trace enable/disable counts</li>
<li>Integrate with MCU control as needed</li>
</ol>
<h1><a class="anchor" id="hal_debug_configuration"></a>
Configuration</h1>
<ul>
<li><b>Debug</b> <b>Power:</b> Configure debug power management</li>
<li><b>Trace</b> <b>Settings:</b> Set up trace and TPIU clock</li>
<li><b>Counter</b> <b>Management:</b> Track enable/disable counts</li>
<li><b>MCUCTRL:</b> Configure MCU control register integration</li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9b22ec617ed72030db9d813abe123923" id="r_ga9b22ec617ed72030db9d813abe123923"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9b22ec617ed72030db9d813abe123923">am_hal_debug_enable</a> (void)</td></tr>
<tr class="separator:ga9b22ec617ed72030db9d813abe123923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c708f068c2a72d318cf233fb4393edc" id="r_ga5c708f068c2a72d318cf233fb4393edc"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5c708f068c2a72d318cf233fb4393edc">am_hal_debug_disable</a> (void)</td></tr>
<tr class="separator:ga5c708f068c2a72d318cf233fb4393edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e04c3786d93ac1f8c5172c01a5b2116" id="r_ga6e04c3786d93ac1f8c5172c01a5b2116"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6e04c3786d93ac1f8c5172c01a5b2116">am_hal_debug_power</a> (bool bPowerup)</td></tr>
<tr class="separator:ga6e04c3786d93ac1f8c5172c01a5b2116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0c18fcd84e9d6d2ebeb2855f236f295" id="r_gae0c18fcd84e9d6d2ebeb2855f236f295"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae0c18fcd84e9d6d2ebeb2855f236f295">am_hal_debug_trace_enable</a> (void)</td></tr>
<tr class="separator:gae0c18fcd84e9d6d2ebeb2855f236f295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab78b45ff72a8a34169f0898bcfaa6a79" id="r_gab78b45ff72a8a34169f0898bcfaa6a79"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab78b45ff72a8a34169f0898bcfaa6a79">am_hal_debug_trace_disable</a> (void)</td></tr>
<tr class="separator:gab78b45ff72a8a34169f0898bcfaa6a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga07ad68319d4a681e62b5f6b45e75e2ec" id="r_ga07ad68319d4a681e62b5f6b45e75e2ec"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga07ad68319d4a681e62b5f6b45e75e2ec">g_ui8TRCENAcount</a> = 0</td></tr>
<tr class="separator:ga07ad68319d4a681e62b5f6b45e75e2ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5c708f068c2a72d318cf233fb4393edc" name="ga5c708f068c2a72d318cf233fb4393edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c708f068c2a72d318cf233fb4393edc">&#9670;&#160;</a></span>am_hal_debug_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_debug_disable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ga5c708f068c2a72d318cf233fb4393edc">am_hal_debug_disable()</a> Perform steps necessary to disable from debug. </p>

</div>
</div>
<a id="ga9b22ec617ed72030db9d813abe123923" name="ga9b22ec617ed72030db9d813abe123923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b22ec617ed72030db9d813abe123923">&#9670;&#160;</a></span>am_hal_debug_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_debug_enable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="#ga9b22ec617ed72030db9d813abe123923">am_hal_debug_enable()</a> Perform steps necessary for general enabling for debug. </p>

</div>
</div>
<a id="ga6e04c3786d93ac1f8c5172c01a5b2116" name="ga6e04c3786d93ac1f8c5172c01a5b2116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e04c3786d93ac1f8c5172c01a5b2116">&#9670;&#160;</a></span>am_hal_debug_power()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_debug_power </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bPowerup</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Debug power. This function will power up the debug domain if not already powered. It will also power down the domain if it were forced to power up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bPowerUp</td><td>- If true, determines whether the debug domain is already powered up. If not, will power it up. If false, will power down if it was initially powered down and subsequently forced to power up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab78b45ff72a8a34169f0898bcfaa6a79" name="gab78b45ff72a8a34169f0898bcfaa6a79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab78b45ff72a8a34169f0898bcfaa6a79">&#9670;&#160;</a></span>am_hal_debug_trace_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_debug_trace_disable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable debug tracing.</p>
<p>This function disables tracing, e.g. DEMCR-&gt;TRCENA. </p>

</div>
</div>
<a id="gae0c18fcd84e9d6d2ebeb2855f236f295" name="gae0c18fcd84e9d6d2ebeb2855f236f295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0c18fcd84e9d6d2ebeb2855f236f295">&#9670;&#160;</a></span>am_hal_debug_trace_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_debug_trace_enable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable debug tracing.</p>
<p>This function enables tracing, e.g. DEMCR-&gt;TRCENA. TRCENA is required when using: DWT (Data Watchpoint and Trace) ITM (Instrumentation Trace Macrocell) PMU (Performance Monitoring Unit) Arm recommends TRCENA when using: ETM (Embedded Trace Macrocell)- See section D1.2.37 DEMCR of Arm v8-M Architecture Reference Manual DDI0553B.y </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga07ad68319d4a681e62b5f6b45e75e2ec" name="ga07ad68319d4a681e62b5f6b45e75e2ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07ad68319d4a681e62b5f6b45e75e2ec">&#9670;&#160;</a></span>g_ui8TRCENAcount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_ui8TRCENAcount = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Thu Oct 30 2025 19:27:26 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
