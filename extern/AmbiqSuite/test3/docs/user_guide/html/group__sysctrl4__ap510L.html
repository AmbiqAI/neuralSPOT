<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: SYSCTRL - System Control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;SDK 5.2.alpha.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">SYSCTRL - System Control<div class="ingroups"><a class="el" href="group__hal.html">mcu</a> &raquo; <a class="el" href="group__apollo330P__hal.html">apollo330P</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This module provides system control functions for Apollo5 devices, including power management, sleep mode control, and system bus synchronization. It enables efficient power management and reliable system operation across different power states.</p>
<h1><a class="anchor" id="hal_sysctrl_features"></a>
Key Features</h1>
<ol type="1">
<li><b>Sleep</b> <b>Management:</b> Control normal and deep sleep modes.</li>
<li><b>Power</b> <b>Control:</b> Manage buck converter and power states.</li>
<li><b>FPU</b> <b>Control:</b> Enable/disable floating-point unit operations.</li>
<li><b>System</b> <b>Reset:</b> Provide system reset functionality.</li>
<li><b>Clock</b> <b>Management:</b> Control clock multiplexer and reset operations.</li>
</ol>
<h1><a class="anchor" id="hal_sysctrl_functionality"></a>
Functionality</h1>
<ul>
<li>Control system sleep and deep sleep modes</li>
<li>Manage power states and buck converter operation</li>
<li>Enable/disable FPU and configure stacking</li>
<li>Handle system reset operations</li>
<li>Control clock multiplexer and reset functionality</li>
</ul>
<h1><a class="anchor" id="hal_sysctrl_usage"></a>
Usage</h1>
<ol type="1">
<li>Configure sleep modes using <a class="el" href="#ga19d539f5577268bd0fb975694d5d490d" title="Place the core into sleep, deepsleep or deepersleep.">am_hal_sysctrl_sleep()</a></li>
<li>Control FPU operations as needed</li>
<li>Manage power states and buck converter</li>
<li>Handle system reset when required</li>
<li>Configure clock multiplexer operations</li>
</ol>
<h1><a class="anchor" id="hal_sysctrl_configuration"></a>
Configuration</h1>
<ul>
<li><b>Sleep</b> <b>Modes:</b> Configure normal and deep sleep parameters</li>
<li><b>Power</b> <b>States:</b> Set up buck converter and power management</li>
<li><b>FPU</b> <b>Settings:</b> Configure floating-point unit operations</li>
<li><b>Clock</b> <b>Control:</b> Set up clock multiplexer and reset operations </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga3bd0acc681d4befbc3fae118ea021f2d" id="r_ga3bd0acc681d4befbc3fae118ea021f2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3bd0acc681d4befbc3fae118ea021f2d">SYNC_READ</a>&#160;&#160;&#160;0x47FF0000</td></tr>
<tr class="separator:ga3bd0acc681d4befbc3fae118ea021f2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2d241789119d050c33b15cdb0403227" id="r_gab2d241789119d050c33b15cdb0403227"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab2d241789119d050c33b15cdb0403227">am_hal_sysctrl_sysbus_write_flush</a>()&#160;&#160;&#160;<a class="el" href="am__reg__macros_8h.html#a6808fd81811d714c37574e39b467ee63">AM_REGVAL</a>(<a class="el" href="#ga3bd0acc681d4befbc3fae118ea021f2d">SYNC_READ</a>)</td></tr>
<tr class="separator:gab2d241789119d050c33b15cdb0403227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5430727291a8b94dda7ec054e754f511" id="r_ga5430727291a8b94dda7ec054e754f511"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5430727291a8b94dda7ec054e754f511">am_hal_sysctrl_bus_write_flush</a>()&#160;&#160;&#160;<a class="el" href="group__cachectrl4__ap510L.html#ga7ade7d871fd6b5be0f642ec7878c7c38">am_hal_cachectrl_dcache_invalidate</a>(NULL, true)</td></tr>
<tr class="separator:ga5430727291a8b94dda7ec054e754f511"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga3ce0ebbb648744a50f1638b36d6eb498" id="r_ga3ce0ebbb648744a50f1638b36d6eb498"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3ce0ebbb648744a50f1638b36d6eb498">am_hal_sysctrl_power_state_e</a> { <br />
&#160;&#160;<a class="el" href="#gga3ce0ebbb648744a50f1638b36d6eb498aac7989e701a7998e9ca3823707d01c9f">AM_HAL_SYSCTRL_WAKE</a>
, <br />
&#160;&#160;<a class="el" href="#gga3ce0ebbb648744a50f1638b36d6eb498aa33d7809091f4550a331e0f5306b7086">AM_HAL_SYSCTRL_NORMALSLEEP</a>
, <br />
&#160;&#160;<a class="el" href="#gga3ce0ebbb648744a50f1638b36d6eb498a875f1f20d9a2345720c8dc3bda82f50c">AM_HAL_SYSCTRL_DEEPSLEEP</a>
<br />
 }</td></tr>
<tr class="memdesc:ga3ce0ebbb648744a50f1638b36d6eb498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of Global Power State enumeration.  <a href="#ga3ce0ebbb648744a50f1638b36d6eb498">More...</a><br /></td></tr>
<tr class="separator:ga3ce0ebbb648744a50f1638b36d6eb498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga19d539f5577268bd0fb975694d5d490d" id="r_ga19d539f5577268bd0fb975694d5d490d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga19d539f5577268bd0fb975694d5d490d">am_hal_sysctrl_sleep</a> (<a class="el" href="#gaa8afd60e283fc9e4ac9895716ab9d38b">am_hal_sysctrl_sleep_type_e</a> eSleepType)</td></tr>
<tr class="memdesc:ga19d539f5577268bd0fb975694d5d490d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place the core into sleep, deepsleep or deepersleep.  <br /></td></tr>
<tr class="separator:ga19d539f5577268bd0fb975694d5d490d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf0c163db8d95aa85c5c5339d3c43818" id="r_gacf0c163db8d95aa85c5c5339d3c43818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacf0c163db8d95aa85c5c5339d3c43818">am_hal_sysctrl_force_buck_active_in_deepsleep</a> (bool bFrcBuckAct)</td></tr>
<tr class="memdesc:gacf0c163db8d95aa85c5c5339d3c43818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control the buck state in deepsleep.  <br /></td></tr>
<tr class="separator:gacf0c163db8d95aa85c5c5339d3c43818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga907a7ad3c0b4cb16656d93f698ecfd98" id="r_ga907a7ad3c0b4cb16656d93f698ecfd98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga907a7ad3c0b4cb16656d93f698ecfd98">buck_ldo_update_override</a> (bool bEnable)</td></tr>
<tr class="separator:ga907a7ad3c0b4cb16656d93f698ecfd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9aace1b44b73111e15aa39f06f43456" id="r_gaf9aace1b44b73111e15aa39f06f43456"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf9aace1b44b73111e15aa39f06f43456">__attribute__</a> ((weak))</td></tr>
<tr class="separator:gaf9aace1b44b73111e15aa39f06f43456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a0bb3436f9fc8d6e00da4f005d4d35d" id="r_ga2a0bb3436f9fc8d6e00da4f005d4d35d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2a0bb3436f9fc8d6e00da4f005d4d35d">am_hal_sysctrl_fpu_enable</a> (void)</td></tr>
<tr class="memdesc:ga2a0bb3436f9fc8d6e00da4f005d4d35d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the floating point module.  <br /></td></tr>
<tr class="separator:ga2a0bb3436f9fc8d6e00da4f005d4d35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f9669691a12b55a1d3c025b39f047c7" id="r_ga6f9669691a12b55a1d3c025b39f047c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6f9669691a12b55a1d3c025b39f047c7">am_hal_sysctrl_fpu_disable</a> (void)</td></tr>
<tr class="memdesc:ga6f9669691a12b55a1d3c025b39f047c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable the floating point module.  <br /></td></tr>
<tr class="separator:ga6f9669691a12b55a1d3c025b39f047c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bf5450a25a3a95a46ac36e2c55669e6" id="r_ga7bf5450a25a3a95a46ac36e2c55669e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7bf5450a25a3a95a46ac36e2c55669e6">am_hal_sysctrl_fpu_stacking_enable</a> (bool bLazy)</td></tr>
<tr class="memdesc:ga7bf5450a25a3a95a46ac36e2c55669e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable stacking of FPU registers on exception entry.  <br /></td></tr>
<tr class="separator:ga7bf5450a25a3a95a46ac36e2c55669e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13806327b2d6ea183631003b4336e4d3" id="r_ga13806327b2d6ea183631003b4336e4d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga13806327b2d6ea183631003b4336e4d3">am_hal_sysctrl_fpu_stacking_disable</a> (void)</td></tr>
<tr class="memdesc:ga13806327b2d6ea183631003b4336e4d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable FPU register stacking on exception entry.  <br /></td></tr>
<tr class="separator:ga13806327b2d6ea183631003b4336e4d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae59fb32c3dbe0311154ec02c761b2732" id="r_gae59fb32c3dbe0311154ec02c761b2732"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae59fb32c3dbe0311154ec02c761b2732">am_hal_sysctrl_aircr_reset</a> (void)</td></tr>
<tr class="memdesc:gae59fb32c3dbe0311154ec02c761b2732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a system wide reset using the AIRCR bit in the M4 system ctrl.  <br /></td></tr>
<tr class="separator:gae59fb32c3dbe0311154ec02c761b2732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga41ddb9e142dfa317781a3588eef70d6c" id="r_ga41ddb9e142dfa317781a3588eef70d6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga41ddb9e142dfa317781a3588eef70d6c">g_bFrcBuckAct</a></td></tr>
<tr class="separator:ga41ddb9e142dfa317781a3588eef70d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41ddb9e142dfa317781a3588eef70d6c" id="r_ga41ddb9e142dfa317781a3588eef70d6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga41ddb9e142dfa317781a3588eef70d6c">g_bFrcBuckAct</a> = false</td></tr>
<tr class="separator:ga41ddb9e142dfa317781a3588eef70d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Definitions for sleep mode parameter</h2></td></tr>
<tr class="memitem:gaa8afd60e283fc9e4ac9895716ab9d38b" id="r_gaa8afd60e283fc9e4ac9895716ab9d38b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa8afd60e283fc9e4ac9895716ab9d38b">am_hal_sysctrl_sleep_type_e</a> { <br />
&#160;&#160;<a class="el" href="#ggaa8afd60e283fc9e4ac9895716ab9d38ba68d4ab14f387bb5ac612a6160d87135d">AM_HAL_SYSCTRL_SLEEP_NORMAL</a> = 0
, <br />
&#160;&#160;<a class="el" href="#ggaa8afd60e283fc9e4ac9895716ab9d38ba39a20d635fc861eba01819b476ebd2a1">AM_HAL_SYSCTRL_SLEEP_DEEP</a>
, <br />
&#160;&#160;<a class="el" href="#ggaa8afd60e283fc9e4ac9895716ab9d38bae4b805341603078594f5e6c7121c44a7">AM_HAL_SYSCTRL_SLEEP_DEEPER</a>
<br />
 }</td></tr>
<tr class="separator:gaa8afd60e283fc9e4ac9895716ab9d38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabe042f8b6e3e95868e88e7d6ff1d625" id="r_gaabe042f8b6e3e95868e88e7d6ff1d625"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaabe042f8b6e3e95868e88e7d6ff1d625">AM_HAL_SYSCTRL_SLEEP_DEEPMAX</a>&#160;&#160;&#160;<a class="el" href="#ggaa8afd60e283fc9e4ac9895716ab9d38bae4b805341603078594f5e6c7121c44a7">AM_HAL_SYSCTRL_SLEEP_DEEPER</a></td></tr>
<tr class="separator:gaabe042f8b6e3e95868e88e7d6ff1d625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga5430727291a8b94dda7ec054e754f511" name="ga5430727291a8b94dda7ec054e754f511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5430727291a8b94dda7ec054e754f511">&#9670;&#160;</a></span>am_hal_sysctrl_bus_write_flush</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_sysctrl_bus_write_flush</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__cachectrl4__ap510L.html#ga7ade7d871fd6b5be0f642ec7878c7c38">am_hal_cachectrl_dcache_invalidate</a>(NULL, true)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write flush - This function will return once all queued write operations have completed, thereby guaranteeing that all writes have been flushed. This works across all the buses - AXI and APB </p>

</div>
</div>
<a id="gaabe042f8b6e3e95868e88e7d6ff1d625" name="gaabe042f8b6e3e95868e88e7d6ff1d625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabe042f8b6e3e95868e88e7d6ff1d625">&#9670;&#160;</a></span>AM_HAL_SYSCTRL_SLEEP_DEEPMAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SYSCTRL_SLEEP_DEEPMAX&#160;&#160;&#160;<a class="el" href="#ggaa8afd60e283fc9e4ac9895716ab9d38bae4b805341603078594f5e6c7121c44a7">AM_HAL_SYSCTRL_SLEEP_DEEPER</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab2d241789119d050c33b15cdb0403227" name="gab2d241789119d050c33b15cdb0403227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2d241789119d050c33b15cdb0403227">&#9670;&#160;</a></span>am_hal_sysctrl_sysbus_write_flush</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_hal_sysctrl_sysbus_write_flush</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="am__reg__macros_8h.html#a6808fd81811d714c37574e39b467ee63">AM_REGVAL</a>(<a class="el" href="#ga3bd0acc681d4befbc3fae118ea021f2d">SYNC_READ</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write flush - This function will hold the bus until all queued write operations on System Bus have completed, thereby guaranteeing that all writes to APB have been flushed. </p>

</div>
</div>
<a id="ga3bd0acc681d4befbc3fae118ea021f2d" name="ga3bd0acc681d4befbc3fae118ea021f2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bd0acc681d4befbc3fae118ea021f2d">&#9670;&#160;</a></span>SYNC_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYNC_READ&#160;&#160;&#160;0x47FF0000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga3ce0ebbb648744a50f1638b36d6eb498" name="ga3ce0ebbb648744a50f1638b36d6eb498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ce0ebbb648744a50f1638b36d6eb498">&#9670;&#160;</a></span>am_hal_sysctrl_power_state_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga3ce0ebbb648744a50f1638b36d6eb498">am_hal_sysctrl_power_state_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of Global Power State enumeration. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga3ce0ebbb648744a50f1638b36d6eb498aac7989e701a7998e9ca3823707d01c9f" name="gga3ce0ebbb648744a50f1638b36d6eb498aac7989e701a7998e9ca3823707d01c9f"></a>AM_HAL_SYSCTRL_WAKE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga3ce0ebbb648744a50f1638b36d6eb498aa33d7809091f4550a331e0f5306b7086" name="gga3ce0ebbb648744a50f1638b36d6eb498aa33d7809091f4550a331e0f5306b7086"></a>AM_HAL_SYSCTRL_NORMALSLEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga3ce0ebbb648744a50f1638b36d6eb498a875f1f20d9a2345720c8dc3bda82f50c" name="gga3ce0ebbb648744a50f1638b36d6eb498a875f1f20d9a2345720c8dc3bda82f50c"></a>AM_HAL_SYSCTRL_DEEPSLEEP&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="gaa8afd60e283fc9e4ac9895716ab9d38b" name="gaa8afd60e283fc9e4ac9895716ab9d38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8afd60e283fc9e4ac9895716ab9d38b">&#9670;&#160;</a></span>am_hal_sysctrl_sleep_type_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#gaa8afd60e283fc9e4ac9895716ab9d38b">am_hal_sysctrl_sleep_type_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaa8afd60e283fc9e4ac9895716ab9d38ba68d4ab14f387bb5ac612a6160d87135d" name="ggaa8afd60e283fc9e4ac9895716ab9d38ba68d4ab14f387bb5ac612a6160d87135d"></a>AM_HAL_SYSCTRL_SLEEP_NORMAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaa8afd60e283fc9e4ac9895716ab9d38ba39a20d635fc861eba01819b476ebd2a1" name="ggaa8afd60e283fc9e4ac9895716ab9d38ba39a20d635fc861eba01819b476ebd2a1"></a>AM_HAL_SYSCTRL_SLEEP_DEEP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ggaa8afd60e283fc9e4ac9895716ab9d38bae4b805341603078594f5e6c7121c44a7" name="ggaa8afd60e283fc9e4ac9895716ab9d38bae4b805341603078594f5e6c7121c44a7"></a>AM_HAL_SYSCTRL_SLEEP_DEEPER&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf9aace1b44b73111e15aa39f06f43456" name="gaf9aace1b44b73111e15aa39f06f43456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9aace1b44b73111e15aa39f06f43456">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(weak)</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gae59fb32c3dbe0311154ec02c761b2732" name="gae59fb32c3dbe0311154ec02c761b2732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae59fb32c3dbe0311154ec02c761b2732">&#9670;&#160;</a></span>am_hal_sysctrl_aircr_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_aircr_reset </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue a system wide reset using the AIRCR bit in the M4 system ctrl. </p>
<p>This function issues a system wide reset (Apollo4P POR level reset). </p>

</div>
</div>
<a id="gacf0c163db8d95aa85c5c5339d3c43818" name="gacf0c163db8d95aa85c5c5339d3c43818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf0c163db8d95aa85c5c5339d3c43818">&#9670;&#160;</a></span>am_hal_sysctrl_force_buck_active_in_deepsleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_force_buck_active_in_deepsleep </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bFrcBuckAct</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Control the buck state in deepsleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bFrcBuckAct</td><td>- True for forcing buck active in deepsleep<ul>
<li>False for not forcing buck active in deepsleep</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>If you want to manually force the buck stay active in deepsleep mode, am_hal_sysctrl_force_buck_active_in_deepsleep must be called for setting g_bAppFrcBuckAct to true before calling am_hal_sysctrl_sleep(AM_HAL_SYSCTRL_SLEEP_DEEP). If anyone of spotmgr and am_hal_sysctrl_force_buck_active_in_deepsleep forced buck stay active, buck will stay active in deepsleep. </p>

</div>
</div>
<a id="ga6f9669691a12b55a1d3c025b39f047c7" name="ga6f9669691a12b55a1d3c025b39f047c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f9669691a12b55a1d3c025b39f047c7">&#9670;&#160;</a></span>am_hal_sysctrl_fpu_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_fpu_disable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable the floating point module. </p>
<p>Call this function to disable the ARM hardware floating point module. </p>

</div>
</div>
<a id="ga2a0bb3436f9fc8d6e00da4f005d4d35d" name="ga2a0bb3436f9fc8d6e00da4f005d4d35d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a0bb3436f9fc8d6e00da4f005d4d35d">&#9670;&#160;</a></span>am_hal_sysctrl_fpu_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_fpu_enable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the floating point module. </p>
<p>Call this function to enable the ARM hardware floating point module. </p>
<p>Enable the EPU. See section 6.3 of the CM55 TRM.</p>

</div>
</div>
<a id="ga13806327b2d6ea183631003b4336e4d3" name="ga13806327b2d6ea183631003b4336e4d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga13806327b2d6ea183631003b4336e4d3">&#9670;&#160;</a></span>am_hal_sysctrl_fpu_stacking_disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_fpu_stacking_disable </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable FPU register stacking on exception entry. </p>
<p>This function disables all stacking of floating point registers for interrupt handlers. This mode should only be used when it is absolutely known that no FPU instructions will be executed in an ISR. </p>

</div>
</div>
<a id="ga7bf5450a25a3a95a46ac36e2c55669e6" name="ga7bf5450a25a3a95a46ac36e2c55669e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bf5450a25a3a95a46ac36e2c55669e6">&#9670;&#160;</a></span>am_hal_sysctrl_fpu_stacking_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_fpu_stacking_enable </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bLazy</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable stacking of FPU registers on exception entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bLazy</td><td>- Set to "true" to enable "lazy stacking".</td></tr>
  </table>
  </dd>
</dl>
<p>This function allows the core to save floating-point information to the stack on exception entry. Setting the bLazy option enables "lazy stacking" for interrupt handlers. Normally, mixing floating-point code and interrupt driven routines causes increased interrupt latency, because the core must save extra information to the stack upon exception entry. With the lazy stacking option enabled, the core will skip the saving of floating-point registers when possible, reducing average interrupt latency.</p>
<dl class="section note"><dt>Note</dt><dd>At reset of the Cortex M4, the ASPEN and LSPEN bits are set to 1, enabling Lazy mode by default. Therefore this function will generally only have an affect when setting for full-context save (or when switching from full-context to lazy mode).</dd>
<dd>
See also: infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dai0298a/DAFGGBJD.html</dd>
<dd>
Three valid FPU context saving modes are possible.<ol type="1">
<li>Lazy ASPEN=1 LSPEN=1 am_hal_sysctrl_fpu_stacking_enable(true) and default.</li>
<li>Full-context ASPEN=1 LSPEN=0 am_hal_sysctrl_fpu_stacking_enable(false)</li>
<li>No FPU state ASPEN=0 LSPEN=0 <a class="el" href="group__mcu__sysctrl__ap510L.html#ga13806327b2d6ea183631003b4336e4d3" title="Disable FPU register stacking on exception entry.">am_hal_sysctrl_fpu_stacking_disable()</a></li>
<li>Invalid ASPEN=0 LSPEN=1 </li>
</ol>
</dd></dl>

</div>
</div>
<a id="ga19d539f5577268bd0fb975694d5d490d" name="ga19d539f5577268bd0fb975694d5d490d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga19d539f5577268bd0fb975694d5d490d">&#9670;&#160;</a></span>am_hal_sysctrl_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void am_hal_sysctrl_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gaa8afd60e283fc9e4ac9895716ab9d38b">am_hal_sysctrl_sleep_type_e</a></td>          <td class="paramname"><span class="paramname"><em>eSleepType</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Place the core into sleep, deepsleep or deepersleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eSleepType</td><td>- Normal or Deep, Deeper sleep.</td></tr>
  </table>
  </dd>
</dl>
<p>This function puts the MCU to sleep, deepsleep or deepersleep depending on eSleepType.</p>
<p>Valid values for eSleepType are: </p><pre class="fragment">AM_HAL_SYSCTRL_SLEEP_NORMAL
AM_HAL_SYSCTRL_SLEEP_DEEP
AM_HAL_SYSCTRL_SLEEP_DEEPER 
</pre> 
</div>
</div>
<a id="ga907a7ad3c0b4cb16656d93f698ecfd98" name="ga907a7ad3c0b4cb16656d93f698ecfd98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga907a7ad3c0b4cb16656d93f698ecfd98">&#9670;&#160;</a></span>buck_ldo_update_override()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void buck_ldo_update_override </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bEnable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga41ddb9e142dfa317781a3588eef70d6c" name="ga41ddb9e142dfa317781a3588eef70d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41ddb9e142dfa317781a3588eef70d6c">&#9670;&#160;</a></span>g_bFrcBuckAct <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool g_bFrcBuckAct</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga41ddb9e142dfa317781a3588eef70d6c" name="ga41ddb9e142dfa317781a3588eef70d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41ddb9e142dfa317781a3588eef70d6c">&#9670;&#160;</a></span>g_bFrcBuckAct <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool g_bFrcBuckAct = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Thu Oct 30 2025 19:27:28 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
