
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Ambiq NeuralSPOT - an AI SDK designed specifically for Ambiq's ultra-low power MCUs">
      
      
      
      
        <link rel="prev" href="NeuralSPOT_Nests.html">
      
      
        <link rel="next" href="../tools/index.html">
      
      
      <link rel="icon" href="images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Automatic Testing, profiling, and deploying - NeuralSPOT</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#from-tf-to-evb-testing-profiling-and-deploying-ai-models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="NeuralSPOT" class="md-header__button md-logo" aria-label="NeuralSPOT" data-md-component="logo">
      
  <img src="images/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NeuralSPOT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Automatic Testing, profiling, and deploying
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Use system theme"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Use system theme" for="__palette_3" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to light theme"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light theme" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark theme"  type="radio" name="__palette" id="__palette_3">
    
      <label class="md-header__button md-icon" title="Switch to dark theme" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/AmbiqAI/neuralSPOT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    AmbiqAI/neuralSPOT
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="NeuralSPOT" class="md-nav__button md-logo" aria-label="NeuralSPOT" data-md-component="logo">
      
  <img src="images/favicon.png" alt="logo">

    </a>
    NeuralSPOT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/AmbiqAI/neuralSPOT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    AmbiqAI/neuralSPOT
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="ai_at_ambiq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI at Ambiq
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="Ambiq-ModelZoo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ambiq Model Zoo
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="Introduction-to-neuralSPOT.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="Understanding-neuralSPOT-via-the-Basic-Tensorflow-Example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="makefile-details.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="features.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Features
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="Developing_with_NeuralSPOT.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing with NeuralSPOT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="developer_guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing for NeuralSPOT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="NeuralSPOT_Nests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tools
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Automatic Testing, profiling, and deploying
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="From%20TF%20to%20EVB%20-%20testing%2C%20profiling%2C%20and%20deploying%20AI%20models.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Automatic Testing, profiling, and deploying
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autodeploy-automates-the-creation-deployment-validation-and-profiling-of-tflite-models-on-ambiq-evbs" class="md-nav__link">
    Autodeploy automates the creation, deployment, validation, and profiling of TFlite models on Ambiq EVBs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-old-way-of-doing-things" class="md-nav__link">
    The Old Way of Doing Things
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tools/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tools Overview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Application Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Application Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="Application-Note-neuralSPOT-and-Windows.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    neuralSPOT on Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="optimizing_using_neuralspot.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Optimizing Using NeuralSPOT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="release_notes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="developer_notes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="Deploying-EI-Models-using-neuralSPOT%20Nests.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Edge Impulse Support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/basic_tf_stub/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Keyword Spotting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/har/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Human Activity Recognition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/rpc_client/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC Client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/rpc_server/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/web_ble/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WebBLE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../examples/mpu_data_collection/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Collection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Libraries
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-audio/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-ble/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bluetooth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-i2c/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    i2c
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-rpc/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-peripherals/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../neuralspot/ns-utils/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performance Utilities
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Code Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_1" >
        
          
          <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Audio
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_1">
            <span class="md-nav__icon md-icon"></span>
            Audio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-audio/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-audio/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-audio/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-audio/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-audio/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_2" >
        
          
          <label class="md-nav__link" for="__nav_10_2" id="__nav_10_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bluetooth
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_2">
            <span class="md-nav__icon md-icon"></span>
            Bluetooth
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-ble/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-ble/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-ble/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-ble/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-ble/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_3" >
        
          
          <label class="md-nav__link" for="__nav_10_3" id="__nav_10_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Remote Procedure Call
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_3">
            <span class="md-nav__icon md-icon"></span>
            Remote Procedure Call
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-rpc/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-rpc/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-rpc/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-rpc/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-rpc/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_4" >
        
          
          <label class="md-nav__link" for="__nav_10_4" id="__nav_10_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    i2c
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_4">
            <span class="md-nav__icon md-icon"></span>
            i2c
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-i2c/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-i2c/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-i2c/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-i2c/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-i2c/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
        
          
          <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utilities
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            Utilities
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-utils/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-utils/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-utils/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-utils/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-utils/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_6" >
        
          
          <label class="md-nav__link" for="__nav_10_6" id="__nav_10_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Power and power
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_6">
            <span class="md-nav__icon md-icon"></span>
            Power and power
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-power/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-power/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-power/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-power/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-power/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7" >
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-core/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-core/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-core/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-core/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-core/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_8" >
        
          
          <label class="md-nav__link" for="__nav_10_8" id="__nav_10_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AmbiqSuite Harness
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_8">
            <span class="md-nav__icon md-icon"></span>
            AmbiqSuite Harness
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-harness/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-harness/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-harness/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-harness/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-harness/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_9" >
        
          
          <label class="md-nav__link" for="__nav_10_9" id="__nav_10_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Wrapper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_9">
            <span class="md-nav__icon md-icon"></span>
            Model Wrapper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-model/files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-model/modules.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-model/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-model/annotated.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ns-model/variables.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Variables
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="blog/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_2" >
        
          
          <label class="md-nav__link" for="__nav_11_2" id="__nav_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="blog/archive/2023.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11_3" >
        
          
          <label class="md-nav__link" for="__nav_11_3" id="__nav_11_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="blog/category/examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="blog/category/integration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="blog/category/general.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    General
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#autodeploy-automates-the-creation-deployment-validation-and-profiling-of-tflite-models-on-ambiq-evbs" class="md-nav__link">
    Autodeploy automates the creation, deployment, validation, and profiling of TFlite models on Ambiq EVBs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-old-way-of-doing-things" class="md-nav__link">
    The Old Way of Doing Things
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="from-tf-to-evb-testing-profiling-and-deploying-ai-models">From TF to EVB - testing, profiling, and deploying AI models</h1>
<h4 id="autodeploy-automates-the-creation-deployment-validation-and-profiling-of-tflite-models-on-ambiq-evbs">Autodeploy automates the creation, deployment, validation, and profiling of TFlite models on Ambiq EVBs</h4>
<p>Developing AI models is hard. Deploying them on embedded devices is also hard. Developing AI features for embedded devices requires doing both of these hard things over and over again until everything is working and optimized. By automating the model conversion, deployment, and characterization process, Ambiq's neuralSPOT Autodeploy tool can help accelerate this cycle.</p>
<h2 id="the-old-way-of-doing-things">The Old Way of Doing Things</h2>
<p>Developing an AI feature typically involves a repetitive process: </p>
<ol>
<li>An AI developer produces a model that implements the feature more or less optimally</li>
<li>That model is converted to code that can execute on an EVB. This is a complex process that requires manually generating new code every time the model changes.</li>
<li>That code is deployed and tested on the EVB. Problems may arise from numeric mismatches, memory issues, and performance (latency) issues.</li>
<li>The AI developer analyses and debugs any issues, tweaks the model in an attempt to mitigate them, and jumps back to step 1.</li>
</ol>
<p>Each of of these steps is mostly manual, complex, and fraught with the potential for coding errors.</p>
<p>Fortunately, all the information needed to automate the middle 2 steps is tucked in Tensorflow's representation of the model - all that is needed is a convenient way to extract it, and an automation flow that takes advantage of that info.</p>
<h1 id="ambiqs-autodeploy-is-here-to-help">Ambiq's AutoDeploy is Here to Help</h1>
<p>AutoDeploy is a tool that speeds up the AI/Embedded iteration cycle by automating most of the tedious bits - given a TFLite file, the tool will convert it to code that can run on an Ambiq EVB, then run a series of tests to characterize its embedded behavior. It then generates a minimal static library suitable implementing the model for easy integration into applications.</p>
<p><a class="glightbox" href="images/autodeploy-flow.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="image-20231009142411775" src="images/autodeploy-flow.png" /></a></p>
<h3 id="pain-points">Pain Points</h3>
<p>AutoDeploy was designed to address many common pain points:</p>
<ul>
<li>Code Generation Pain</li>
<li>Automatically figures out the right Tensor Arena, Resource Variable Arena, and Profile Data sizes</li>
<li>Produces a minimal TFLite for Microcontroller instance by determining which Ops are actually needed and only including those</li>
<li>Model Behavior Mismatches</li>
<li>AutoDeploy runs the same model inputs on the PC and EVB, and compares the results, leading to early discovery and easier debugging of behavior differences. Configuration of the model, input/output tensors, and statistics gathering are driven by AutoDeploy using RPC.</li>
<li>Model Performance Profiling</li>
<li>AutoDeploy extends the TFLite for Microcontrollers Profiling to produce detailed reports including per-layer latency, MAC count, and cache and CPU performance statistics.</li>
<li>Model Power Usage Profiling</li>
<li>If a Joulescope is available, AutoDeploy can use it to automatically measure the model inference power consumption.</li>
</ul>
<h1 id="using-autodeploy">Using AutoDeploy</h1>
<p>Using AutoDeploy is easy - just give it a TFLite model, connect an EVB, and let it go to work:</p>
<div class="highlight"><pre><span></span><code>$&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>tools
$&gt;<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>ns_autodeploy<span class="w"> </span>--tflite-filename<span class="o">=</span>mymodel.tflite<span class="w"> </span>--model-name<span class="w"> </span>mymodel<span class="w"> </span>--measure-power
</code></pre></div>
<p>As part of the process, AutoDeploy generates a number of artifacts, including three ready-to-deploy binary files and the source code used to generate them:</p>
<p><div class="highlight"><pre><span></span><code>.../projects/autodeploy
<span class="w">    </span>./mymodel
<span class="w">            </span>./mymodel
<span class="w">                    </span>./lib<span class="w"> </span><span class="c1"># minimal static library and API header</span>
<span class="w">                    </span>./src<span class="w"> </span><span class="c1"># tiny example that compiles the lib into an EVB image</span>
<span class="w">            </span>./mymodel_ambiqsuite_example
<span class="w">                    </span>./gcc<span class="w"> </span><span class="c1"># Makefile and linking scripts for GCC</span>
<span class="w">                    </span>./armclang<span class="w"> </span><span class="c1"># Makefile and linking scripts for armclang</span>
<span class="w">                    </span>./make<span class="w"> </span><span class="c1"># helper makefiles</span>
<span class="w">                    </span>./src<span class="w">  </span><span class="c1"># The model and a small example app that calls it once</span>
<span class="w">                        </span>./tensorflow_headers<span class="w"> </span><span class="c1"># minimal needed to invoke TFLM</span>
<span class="w">            </span>./tflm_validator
<span class="w">                    </span>./src<span class="w"> </span><span class="c1"># Highly instrumented model validation application (leverages USB and RPC)</span>
<span class="w">            </span>./mymodel_power
<span class="w">                    </span>./src<span class="w"> </span><span class="c1"># Power measurement application (requires Joulescope and GPIO connections)</span>
<span class="w">            </span>mymodel.csv<span class="w"> </span><span class="c1"># Per-layer profile</span>
<span class="w">            </span>mymodel_mc.pkl<span class="w"> </span><span class="c1"># artifact generated during validation, useful for non-USB EVBs</span>
<span class="w">            </span>mymodel_md.pkl<span class="w"> </span><span class="c1"># artifact generated during validation, useful for non-USB EVBs</span>
</code></pre></div>
The <code>mymodel.csv</code> file contains a CSV representation of per-layer profiling stats. For a KWS, for example, the CSV contains the following:</p>
<table>
<thead>
<tr>
<th>Event</th>
<th>Tag</th>
<th>uSeconds</th>
<th>Est MACs</th>
<th>cycles</th>
<th>cpi</th>
<th>exc</th>
<th>sleep</th>
<th>lsu</th>
<th>fold</th>
<th>daccess</th>
<th>dtaglookup</th>
<th>dhitslookup</th>
<th>dhitsline</th>
<th>iaccess</th>
<th>itaglookup</th>
<th>ihitslookup</th>
<th>ihitsline</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>CONV_2D</td>
<td>47794</td>
<td>320000</td>
<td>9176380</td>
<td>141</td>
<td>252</td>
<td>0</td>
<td>188</td>
<td>166</td>
<td>58335</td>
<td>55777</td>
<td>0</td>
<td>2558</td>
<td>1220789</td>
<td>357761</td>
<td>0</td>
<td>863028</td>
</tr>
<tr>
<td>1</td>
<td>DEPTHWISE_C</td>
<td>23334</td>
<td>72000</td>
<td>4480072</td>
<td>153</td>
<td>54</td>
<td>0</td>
<td>200</td>
<td>123</td>
<td>30068</td>
<td>25311</td>
<td>0</td>
<td>4757</td>
<td>625707</td>
<td>175380</td>
<td>0</td>
<td>450327</td>
</tr>
<tr>
<td>2</td>
<td>CONV_2D</td>
<td>44674</td>
<td>512000</td>
<td>8577368</td>
<td>168</td>
<td>102</td>
<td>0</td>
<td>96</td>
<td>194</td>
<td>81745</td>
<td>80093</td>
<td>0</td>
<td>1652</td>
<td>1087045</td>
<td>309917</td>
<td>0</td>
<td>777128</td>
</tr>
<tr>
<td>3</td>
<td>DEPTHWISE_C</td>
<td>23337</td>
<td>72000</td>
<td>4480468</td>
<td>74</td>
<td>147</td>
<td>0</td>
<td>77</td>
<td>126</td>
<td>30072</td>
<td>25311</td>
<td>0</td>
<td>4761</td>
<td>625704</td>
<td>175399</td>
<td>0</td>
<td>450305</td>
</tr>
<tr>
<td>4</td>
<td>CONV_2D</td>
<td>44671</td>
<td>512000</td>
<td>8578178</td>
<td>1</td>
<td>120</td>
<td>0</td>
<td>21</td>
<td>195</td>
<td>81736</td>
<td>80070</td>
<td>0</td>
<td>1666</td>
<td>1086915</td>
<td>309928</td>
<td>0</td>
<td>776987</td>
</tr>
<tr>
<td>5</td>
<td>DEPTHWISE_C</td>
<td>23328</td>
<td>72000</td>
<td>4478896</td>
<td>44</td>
<td>99</td>
<td>0</td>
<td>225</td>
<td>122</td>
<td>30059</td>
<td>25301</td>
<td>0</td>
<td>4758</td>
<td>625584</td>
<td>175343</td>
<td>0</td>
<td>450241</td>
</tr>
<tr>
<td>6</td>
<td>CONV_2D</td>
<td>44676</td>
<td>512000</td>
<td>8576362</td>
<td>83</td>
<td>135</td>
<td>0</td>
<td>27</td>
<td>195</td>
<td>81736</td>
<td>80079</td>
<td>0</td>
<td>1657</td>
<td>1086955</td>
<td>309892</td>
<td>0</td>
<td>777063</td>
</tr>
<tr>
<td>7</td>
<td>DEPTHWISE_C</td>
<td>23336</td>
<td>72000</td>
<td>4478996</td>
<td>85</td>
<td>238</td>
<td>0</td>
<td>165</td>
<td>118</td>
<td>30067</td>
<td>25313</td>
<td>0</td>
<td>4754</td>
<td>625660</td>
<td>175393</td>
<td>0</td>
<td>450267</td>
</tr>
<tr>
<td>8</td>
<td>CONV_2D</td>
<td>44675</td>
<td>512000</td>
<td>8577472</td>
<td>118</td>
<td>184</td>
<td>0</td>
<td>161</td>
<td>196</td>
<td>81745</td>
<td>80092</td>
<td>0</td>
<td>1653</td>
<td>1087073</td>
<td>309922</td>
<td>0</td>
<td>777151</td>
</tr>
<tr>
<td>9</td>
<td>AVERAGE_POO</td>
<td>583</td>
<td>0</td>
<td>111772</td>
<td>100</td>
<td>169</td>
<td>0</td>
<td>39</td>
<td>197</td>
<td>202</td>
<td>177</td>
<td>0</td>
<td>25</td>
<td>60827</td>
<td>1541</td>
<td>0</td>
<td>59286</td>
</tr>
<tr>
<td>10</td>
<td>RESHAPE</td>
<td>21</td>
<td>0</td>
<td>3748</td>
<td>213</td>
<td>74</td>
<td>0</td>
<td>219</td>
<td>1</td>
<td>31</td>
<td>24</td>
<td>0</td>
<td>7</td>
<td>422</td>
<td>142</td>
<td>0</td>
<td>280</td>
</tr>
<tr>
<td>11</td>
<td>FULLY_CONNE</td>
<td>134</td>
<td>768</td>
<td>25644</td>
<td>69</td>
<td>76</td>
<td>0</td>
<td>249</td>
<td>21</td>
<td>275</td>
<td>263</td>
<td>0</td>
<td>12</td>
<td>3014</td>
<td>911</td>
<td>0</td>
<td>2103</td>
</tr>
<tr>
<td>12</td>
<td>SOFTMAX</td>
<td>85</td>
<td>0</td>
<td>17574</td>
<td>227</td>
<td>231</td>
<td>0</td>
<td>24</td>
<td>43</td>
<td>102</td>
<td>63</td>
<td>0</td>
<td>39</td>
<td>2552</td>
<td>717</td>
<td>0</td>
<td>1835</td>
</tr>
</tbody>
</table>
<p>This information is collected from a number of sources based on both static analysis on the PC and dynamic profiling on the EVB:
Dynamically collected statistics are:</p>
<ol>
<li>The Tag and uSeconds come from TFLM's micro-profiler and is collected by TFLM during the first inference only</li>
<li>The cycles, cpi, exc, sleep, lsu, and fold come from Arm's ETM profiling registers and are measured during the first inference only</li>
<li>The daccess, dtaglookup, dhitslook, dhitsline, iaccess, itagelookup, ihitslookup, and ihitsline come from Ambiq cache profiling module and are measured during the first inference only</li>
</ol>
<p>Estimated MACs are based on a static analysis of the TFLite file and are calculated as the theoretical MAC per layer type and shape.</p>
<h2 id="measuring-power">Measuring Power</h2>
<p>AutoDeploy can use a <a href="https://www.joulescope.com">Joulescope</a> to measure power. It does so by:</p>
<ol>
<li>Creating and deploying a power measurement binary to the EVB</li>
<li>Triggering a number of inference operations by using the Joulescope's GP0out bin (which is monitored by the EVB)</li>
<li>Waiting for certain patterns on the Joulescope's GPIn pins to know when the inference code is running</li>
<li>Using Joulescope's python driver to sample power measurements during that time.</li>
</ol>
<p>It will do this twice, once for 96Mhz and another for 192Mhz.</p>
<h3 id="requirements">Requirements</h3>
<ol>
<li>A Joulescope</li>
<li>Connections between the Joulescope's GPIn and GPOut pins and the appriopriate GPIO pins (see the wiring guide below)</li>
</ol>
<h3 id="connecting-the-joulescope-to-the-evb">Connecting the Joulescope to the EVB</h3>
<ol>
<li>Power connections (follow EVB power measurement connection guide)</li>
<li>EVB Pin 22 to Joulescope In0</li>
<li>EVB Pin 23 to Joulescope In1</li>
<li>EVB Pin 24 to Joulescope Out0</li>
</ol>
<h3 id="procedure">Procedure</h3>
<ol>
<li>Plug in EVB and Joulescope</li>
<li>Start the Joulescope desktop application to power on the device</li>
<li>Stop the Joulescope desktop application in order to allow the Python driver to control the Joulescope instead</li>
<li>Run the power measurement script</li>
</ol>
<p><em>NOTE</em>: AutoDeploy needs characterization information to create the power binary - this data can be obtained by running AutoDeploy's profiling step (it will run by default),
or it can be loaded from a previous run (see the Apollo4 Lite section below for one scenario in which this is necessary).</p>
<h3 id="result-output">Result Output</h3>
<div class="highlight"><pre><span></span><code>Charcterization Report for har:
[Profile] Per-Layer Statistics file:         har_stats.csv
[Profile] Max Perf Inference Time (ms):      355.427
[Profile] Total Estimated MACs:              3465792
[Profile] Total CPU Cycles:                  68241382
[Profile] Total Model Layers:                17
[Profile] MACs per second:                   9751065.620
[Profile] Cycles per MAC:                    19.690
[Power]   Max Perf Inference Time (ms):      10.249
[Power]   Max Perf Inference Energy (uJ):    159.257
[Power]   Max Perf Inference Avg Power (mW): 9.346
[Power]   Min Perf Inference Time (ms):      20.110
[Power]   Min Perf Inference Energy (uJ):    190.665
[Power]   Min Perf Inference Avg Power (mW): 9.481

Notes:
        - Statistics marked with [Profile] are collected from the first inference, whereas [Power] statistics
          are collected from the average of the 100 inferences. This will lead to slight
          differences due to cache warmup, etc.
        - CPU cycles are captured via Arm ETM traces
        - MACs are estimated based on the number of operations in the model, not via instrumented code
</code></pre></div>
<h2 id="profiling-apollo4-lite">Profiling Apollo4 Lite</h2>
<p>Apollo4 Lite doesn't have a USB port, which is needed by AutoDeploy to fine-tune and profile the model. Furthermore, the data collected from these steps is needed when creating the power measurement binary and minimal library. In order to enable power measurement and library generation on Apollo4 Lite, AutoDeploy is capable of generating the required metadata by profiling the model on Apollo4 Plus and saving it for subsequent use on Apollo4 Lite. </p>
<h3 id="requirements_1">Requirements</h3>
<p>To measure power and generate model libraries for Apollo4 Lite, you'll need:</p>
<ol>
<li>An Apollo4P or Apollo4P Blue EVB</li>
<li>An Apollo4 Lite</li>
<li>A Joulescope (to measure power)</li>
</ol>
<h3 id="procedure_1">Procedure</h3>
<p>The overall procedure is:</p>
<ol>
<li>Run characterization on Apollo4 Plus or Blue Plus EVB, which generates the required metadata</li>
<li>Switch the EVB to Apollo4 Lite</li>
<li>Run just the library generation and/or power measurement steps on Apollo4 Lite</li>
</ol>
<p>Using the human activity recognition model as an example, this procedure translates to something like the following steps.</p>
<div class="highlight"><pre><span></span><code>$&gt;<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>.../neuralSPOT/tools

<span class="c1"># Plug in Apollo4 Plus or Blue Plus EVB</span>
$&gt;<span class="w"> </span>vi<span class="w"> </span>../make/local_overrides.mk<span class="w"> </span><span class="c1"># uncomment the BOARD:=apollo4p line, comment out all other BOARD settings in this file</span>

$&gt;<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>ns_autodeploy<span class="w"> </span>--model-name<span class="w"> </span>har<span class="w"> </span>--tflite-filename<span class="w"> </span>har.tflite<span class="w"> </span>--runs<span class="w"> </span><span class="m">3</span><span class="w"> </span>--no-create-library<span class="w"> </span><span class="c1"># small number of runs and skip creating the library to save time</span>
<span class="c1"># Wait for successful completion of script</span>

$&gt;<span class="w"> </span>ls<span class="w"> </span>../projects/autodeploy/har<span class="w"> </span><span class="c1"># check for existence of har_md.pkl and har_mc.pkl</span>

<span class="c1"># Switch the Apollo4P EVB for the Apollo4 Lite EVB, including Joulescope GPIO cables if needed</span>

$&gt;<span class="w"> </span>vi<span class="w"> </span>../make/local_overrides.mk<span class="w"> </span><span class="c1"># uncomment the BOARD:=apollo4l line, comment out all other BOARD settings in this file</span>

$&gt;<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>ns_autodeploy<span class="w"> </span>--model-name<span class="w"> </span>har<span class="w"> </span>--tflite-filename<span class="w"> </span>har.tflite<span class="w"> </span>--runs<span class="w"> </span><span class="m">3</span><span class="w"> </span>--measure-power<span class="w"> </span>--no-create-binary<span class="w"> </span>--no-create-profile<span class="w"> </span><span class="c1"># Skip fine-tuning and profiling steps on AP4 Lite</span>
<span class="c1"># Wait for successful completion of script</span>
</code></pre></div>
<h2 id="anatomy-of-a-model-source-file">Anatomy of a Model Source File</h2>
<p>Autodeploy analyses the provided TFLite file to figure out as much as it can. It then creates and deploys a 'baseline binary' to determine some information that is only available from TFLM at runtime. At the end of this process, Autodeploy knows:</p>
<ol>
<li>The size of the Tensor Arena</li>
<li>The size of the Resource Variable Arena</li>
<li>What operations need to be declared when instantiate the model.</li>
<li>The number and size of input and output tensors, and the scale and offset needed for quantizing and dequantizing those tensors.</li>
</ol>
<p>All of this is captured in the model source file, <code>mymodel_model.cc</code>, which includes an init function that can be used by your application to populate the ns_model configuration struct.</p>
<p><code>kws_ap4_model.cc</code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_tensor_arena_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_COMPUTED_ARENA_SIZE</span><span class="p">;</span><span class="w"> </span><span class="c1">// Computed</span>
<span class="k">alignas</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_tensor_arena</span><span class="p">[</span><span class="n">kws_ap4_ambiqsuite_tensor_arena_size</span><span class="p">];</span><span class="w"> </span><span class="c1">// defaults to placing in TCM</span>

<span class="c1">// Resource Variable Arena</span>
<span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_resource_var_arena_size</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">SIZE</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">tflite</span><span class="o">::</span><span class="n">MicroResourceVariables</span><span class="p">);</span><span class="w"> </span><span class="c1">// SIZE is number of Varhandles, computed by autodeploy</span>
<span class="k">alignas</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_var_arena</span><span class="p">[</span><span class="n">kws_ap4_ambiqsuite_resource_var_arena_size</span><span class="p">];</span>

<span class="c1">// Further down in the code...</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">tflite</span><span class="o">::</span><span class="n">MicroMutableOpResolver</span><span class="o">&lt;</span><span class="mi">6</span><span class="o">&gt;</span><span class="w"> </span><span class="n">resolver</span><span class="p">;</span><span class="w"> </span><span class="c1">// &#39;6&#39; is computed</span>
<span class="w">    </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddConv2D</span><span class="p">();</span><span class="w"> </span><span class="c1">// These layers are automatically deduced from TFLite file</span>
<span class="w">        </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddDepthwiseConv2D</span><span class="p">();</span>
<span class="w">        </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddAveragePool2D</span><span class="p">();</span>
<span class="w">        </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddReshape</span><span class="p">();</span>
<span class="w">        </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddFullyConnected</span><span class="p">();</span>
<span class="w">        </span><span class="n">resolver</span><span class="p">.</span><span class="n">AddSoftmax</span><span class="p">();</span>
</code></pre></div>
<p>The initialization is available via <code>MYMODEL_ambiqsuite_minimal_init(ns_model_state_t *ms)</code>. An example of its use and how input and output tensors can be initialized and decode is placed in the example's <code>main()</code> function:</p>
<p><code>kws_ap4_example.cc</code></p>
<div class="highlight"><pre><span></span><code><span class="p">...</span>
<span class="k">static</span><span class="w"> </span><span class="n">ns_model_state_t</span><span class="w"> </span><span class="n">model</span><span class="p">;</span>

<span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_minimal_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">model</span><span class="p">);</span><span class="w"> </span><span class="c1">// model init with minimal defaults</span>
<span class="w">    </span><span class="c1">// At this point, the model is ready to use - init and allocations were successful</span>
<span class="w">    </span><span class="c1">// Note that the model handle is not meant to be opaque, the structure is defined</span>
<span class="w">    </span><span class="c1">// in ns_model.h, and contains state, config details, and model structure information</span>

<span class="w">    </span><span class="c1">// Get data about input and output tensors</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">numInputs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">numInputTensors</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">numOutputs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">numOutputTensors</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// Initialize input tensors</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numInputs</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">am_util_debug_printf</span><span class="p">(</span><span class="s">&quot;Initializing input tensor %d (%d bytes)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">model_input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">);</span>
<span class="w">        </span><span class="n">memcpy</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">model_input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">int8</span><span class="p">,</span><span class="w"> </span><span class="p">((</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">kws_ap4_ambiqsuite_example_input_tensors</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span>
<span class="w">               </span><span class="n">model</span><span class="p">.</span><span class="n">model_input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">);</span>
<span class="w">        </span><span class="n">offset</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">model_input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// Execute the model</span>
<span class="w">    </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot;Invoking model...&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">TfLiteStatus</span><span class="w"> </span><span class="n">invoke_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">interpreter</span><span class="o">-&gt;</span><span class="n">Invoke</span><span class="p">();</span>
<span class="w">    </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot; success!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">invoke_status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">kTfLiteOk</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">            </span><span class="n">example_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_STATUS_FAILURE</span><span class="p">;</span><span class="w"> </span><span class="c1">// invoke failed, so hang</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compare the bytes of the output tensors against expected values</span>
<span class="w">    </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot;Checking %d output tensors</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">numOutputs</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">numOutputs</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot;Checking output tensor %d (%d bytes)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">model_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">memcmp</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">model_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">.</span><span class="n">int8</span><span class="p">,</span>
<span class="w">                        </span><span class="p">((</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">kws_ap4_ambiqsuite_example_output_tensors</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span>
<span class="w">                        </span><span class="n">model</span><span class="p">.</span><span class="n">model_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Miscompare!</span>
<span class="w">            </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot;Miscompare in output tensor %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>

<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">                </span><span class="n">example_status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kws_ap4_ambiqsuite_STATUS_INVALID_CONFIG</span><span class="p">;</span><span class="w"> </span><span class="c1">// miscompare, so hang</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">offset</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">model_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">bytes</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">am_util_stdio_printf</span><span class="p">(</span><span class="s">&quot;All output tensors matched expected results.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">...</span>
<span class="p">}</span>
</code></pre></div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 <a href="https://ambiq.com" target="_blank" rel="noopener">Ambiq</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>