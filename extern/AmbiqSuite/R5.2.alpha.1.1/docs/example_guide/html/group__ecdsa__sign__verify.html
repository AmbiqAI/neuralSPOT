<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Examples Guide: ECDSA Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Examples Guide<span id="projectnumber">&#160;SDK 5.2.alpha.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ECDSA Example<div class="ingroups"><a class="el" href="group__crypto__examples.html">Crypto Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This example demonstrates Elliptic Curve Digital Signature Algorithm (ECDSA) operations using the mbedTLS cryptographic library. The application showcases ECDSA key generation, message signing, and signature verification with SHA256 hashing for secure message authentication.</p>
<p>This example requires 2048 words of stack space.<br  />
 The stack size is declared in the ini file and startup file.<br  />
 The user should specify this size in the apollo5x-system-config.yaml file<br  />
</p>
<h1><a class="anchor" id="ecdsa_sign_verify_features"></a>
Key Features</h1>
<ol type="1">
<li><b>ECDSA</b> <b>Digital</b> <b>Signatures:</b> Implements Elliptic Curve Digital Signature Algorithm for secure message authentication</li>
<li><b>SHA256</b> <b>Hashing:</b> Uses SHA256 cryptographic hash function for message digest generation and integrity verification</li>
<li><b>Elliptic</b> <b>Curve</b> <b>Cryptography:</b> Leverages elliptic curve mathematics for efficient and secure cryptographic operations</li>
<li><b>Power</b> <b>Management:</b> Implements intelligent crypto power control to keep crypto module active only during operations</li>
<li><b>mbedTLS</b> <b>Integration:</b> Utilizes mbedTLS cryptographic library for standards-compliant ECDSA operations</li>
</ol>
<h1><a class="anchor" id="ecdsa_sign_verify_functionality"></a>
Functionality</h1>
<p>The application performs the following operations:</p><ul>
<li>Initializes mbedTLS cryptographic library and memory allocation</li>
<li>Generates ECDSA key pair (secp256r1 curve) or loads pre-generated keys</li>
<li>Creates SHA256 hash of test message for digital signature</li>
<li>Signs the message hash using ECDSA private key</li>
<li>Verifies the signature using ECDSA public key</li>
<li>Implements power management to enable crypto only during operations</li>
<li>Provides debug output for cryptographic operations</li>
</ul>
<h1><a class="anchor" id="ecdsa_sign_verify_usage"></a>
Usage</h1>
<ol type="1">
<li>Compile and download the application to target device</li>
<li>Monitor ITM/SWO output for cryptographic operation results</li>
<li>Verify successful signature generation and verification</li>
</ol>
<h1><a class="anchor" id="ecdsa_sign_verify_configuration"></a>
Configuration</h1>
<ul>
<li><b>ENABLE_CRYPTO_ON_OFF:</b> Enables intelligent crypto power management</li>
<li><b>AM_DEBUG_PRINTF:</b> Enables detailed debug output via ITM/SWO</li>
<li><b>ECDSA_CURVE:</b> Configurable elliptic curve (default: secp256r1)</li>
</ul>
<p>Additional Information: To enable debug printing, add the following project-level macro definitions.<br  />
 When defined, debug messages will be sent over ITM/SWO at 1MHz.<br  />
</p><ul>
<li>#define AM_DEBUG_PRINTF<br  />
</li>
</ul>
<p>Note that when this macro is defined, the device will never achieve deep sleep, only normal sleep, due to the ITM (and thus the HFRC) being enabled.<br  />
 </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga92f48bae5eec24daf7a930d34d77b78d" id="r_ga92f48bae5eec24daf7a930d34d77b78d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga92f48bae5eec24daf7a930d34d77b78d">MBEDTLS_CONFIG_FILE</a>&#160;&#160;&#160;&lt;<a class="el" href="structconfig__s.html">config</a>-cc312-apollo4-no-os.h&gt;</td></tr>
<tr class="separator:ga92f48bae5eec24daf7a930d34d77b78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6f8d55d99fe58c368dd472d25b552f8" id="r_gab6f8d55d99fe58c368dd472d25b552f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab6f8d55d99fe58c368dd472d25b552f8">ENABLE_CRYPTO_ON_OFF</a></td></tr>
<tr class="separator:gab6f8d55d99fe58c368dd472d25b552f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91abb7bafffcdaaea1c4a7a77dc1fb51" id="r_ga91abb7bafffcdaaea1c4a7a77dc1fb51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga91abb7bafffcdaaea1c4a7a77dc1fb51">AM_MBEDTLS_HEAP_SIZE</a>&#160;&#160;&#160;(128*1024/4)</td></tr>
<tr class="separator:ga91abb7bafffcdaaea1c4a7a77dc1fb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaba7830ef45cb75ca2eaecd13921ed4db" id="r_gaba7830ef45cb75ca2eaecd13921ed4db"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaba7830ef45cb75ca2eaecd13921ed4db">g_ui32MbedTLSHeap</a> [<a class="el" href="#ga91abb7bafffcdaaea1c4a7a77dc1fb51">AM_MBEDTLS_HEAP_SIZE</a>]</td></tr>
<tr class="separator:gaba7830ef45cb75ca2eaecd13921ed4db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga976da4bd9707596a3fa3760f91bde312" id="r_ga976da4bd9707596a3fa3760f91bde312"><td class="memItemLeft" align="right" valign="top">CCRndContext_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga976da4bd9707596a3fa3760f91bde312">RndContex</a></td></tr>
<tr class="separator:ga976da4bd9707596a3fa3760f91bde312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcc960b19c6764bf537220840f540e8b" id="r_gadcc960b19c6764bf537220840f540e8b"><td class="memItemLeft" align="right" valign="top">CCRndWorkBuff_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadcc960b19c6764bf537220840f540e8b">RndWorkBuff</a></td></tr>
<tr class="separator:gadcc960b19c6764bf537220840f540e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22eac8582b39c13c4b2aebfb76b4ac54" id="r_ga22eac8582b39c13c4b2aebfb76b4ac54"><td class="memItemLeft" align="right" valign="top">mbedtls_ctr_drbg_context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga22eac8582b39c13c4b2aebfb76b4ac54">RndState</a></td></tr>
<tr class="separator:ga22eac8582b39c13c4b2aebfb76b4ac54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cba5544547de2046fbefeeeb3d2d6e1" id="r_ga9cba5544547de2046fbefeeeb3d2d6e1"><td class="memItemLeft" align="right" valign="top">mbedtls_entropy_context&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9cba5544547de2046fbefeeeb3d2d6e1">MbedtlsEntropy</a></td></tr>
<tr class="separator:ga9cba5544547de2046fbefeeeb3d2d6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga91abb7bafffcdaaea1c4a7a77dc1fb51" name="ga91abb7bafffcdaaea1c4a7a77dc1fb51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91abb7bafffcdaaea1c4a7a77dc1fb51">&#9670;&#160;</a></span>AM_MBEDTLS_HEAP_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_MBEDTLS_HEAP_SIZE&#160;&#160;&#160;(128*1024/4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab6f8d55d99fe58c368dd472d25b552f8" name="gab6f8d55d99fe58c368dd472d25b552f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab6f8d55d99fe58c368dd472d25b552f8">&#9670;&#160;</a></span>ENABLE_CRYPTO_ON_OFF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_CRYPTO_ON_OFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga92f48bae5eec24daf7a930d34d77b78d" name="ga92f48bae5eec24daf7a930d34d77b78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92f48bae5eec24daf7a930d34d77b78d">&#9670;&#160;</a></span>MBEDTLS_CONFIG_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MBEDTLS_CONFIG_FILE&#160;&#160;&#160;&lt;<a class="el" href="structconfig__s.html">config</a>-cc312-apollo4-no-os.h&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>MBEDTLS_CONFIG_FILE must be defined for crypto to run properly </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaba7830ef45cb75ca2eaecd13921ed4db" name="gaba7830ef45cb75ca2eaecd13921ed4db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba7830ef45cb75ca2eaecd13921ed4db">&#9670;&#160;</a></span>g_ui32MbedTLSHeap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32MbedTLSHeap[<a class="el" href="#ga91abb7bafffcdaaea1c4a7a77dc1fb51">AM_MBEDTLS_HEAP_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9cba5544547de2046fbefeeeb3d2d6e1" name="ga9cba5544547de2046fbefeeeb3d2d6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cba5544547de2046fbefeeeb3d2d6e1">&#9670;&#160;</a></span>MbedtlsEntropy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mbedtls_entropy_context MbedtlsEntropy</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga976da4bd9707596a3fa3760f91bde312" name="ga976da4bd9707596a3fa3760f91bde312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga976da4bd9707596a3fa3760f91bde312">&#9670;&#160;</a></span>RndContex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCRndContext_t RndContex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga22eac8582b39c13c4b2aebfb76b4ac54" name="ga22eac8582b39c13c4b2aebfb76b4ac54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga22eac8582b39c13c4b2aebfb76b4ac54">&#9670;&#160;</a></span>RndState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mbedtls_ctr_drbg_context RndState</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gadcc960b19c6764bf537220840f540e8b" name="gadcc960b19c6764bf537220840f540e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadcc960b19c6764bf537220840f540e8b">&#9670;&#160;</a></span>RndWorkBuff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CCRndWorkBuff_t RndWorkBuff</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Thu Oct 30 2025 19:23:45 for the AmbiqSuite Examples Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
