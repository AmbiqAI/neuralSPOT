**********************************************************************************************************
Apollo510 SDK5.2.alpha.1.1 released on October 31, 2025. (GIT SHA release_sdk5_2_a_1_1-c2486c8ef9)

This is an Alpha/Beta-customer only release of the AmbiqSuite SDK targeting the Apollo330P family

This release will support Trim 1 and Trim 2 samples of Apollo330P.

Please note that this is a limited release to enable the Apollo330 Plus Series EVB, Revision 1.0. Full 
example support will come as part of a later release. 

**********************************************************************************************************
--------------------------------------------------------------------------------------------------------
Summary of Changes and Customer Impacts in Apollo510 SDK5.2.alpha.1.1 relative to Apollo510 SDK5.2.alpha.1
--------------------------------------------------------------------------------------------------------
General Changes
===============
* Added support for apollo330mP_evb.

--------------------------------------------------------------------------------------------------------
Summary of Changes and Customer Impacts in Apollo510 SDK5.2.alpha.1 relative to Apollo510 SDK5.2.alpha.0
Only applicable to users of previous SDKs for Apollo330 Plus. 
--------------------------------------------------------------------------------------------------------
General Changes
===============
* Added support for Trim 2
* Updated CM4 XTALHS only image v1.3.0 and CM4 BLE controller v1.2.0. See respective history files for details
* New HAL directory for apollo330P & \tools\apollo330P_scripts directory
* SBL update. See history file for details
* MRAM recovery images, OEM recovery application examples and related tools have been added to this release 
  for recovering from Flash devices (MSPI or eMMC).  
  - Additional modifications and updates are needed to test MRAM recovery using MSPI flash. 
    Please contact your Ambiq field engineer for support.
  - Wired Recovery tools are not included and will be included in the next release.

Application Requirements
------------------------
- Temperature Compensation (TempCo): It is required for the application to have active periodic temperature monitoring integrated for proper 
  power regulation & for optimal active power consumption using HAL interface am_hal_pwrctrl_temp_update().
  Applications will be required to have periodic temp sense – and make a call to this API with following guidelines:
  - Call this API at init based on first temp reading
    --- This API returns a structure – notifying of thresholds when application should make this call again
  - Monitor temperature periodically, and call the API when supplied thresholds are breached in either direction.
  Application could use Apollo330P ADC based temp sensing, or have other means to do temp monitoring.
  Sampling frequency can be optimized based on usage, as long as it is fast enough to detect a temp diff of 10C
  An example application is provided with SDK using on-chip ADC (\boards\apollo330mP_evb\examples\power\tempco)
- Low Power Initialization Sequence requirements:
  Applications are required to follow the below sequence for initialization:
  am_hal_pwrctrl_low_power_init -> am_hal_pwrctrl_control (AM_HAL_PWRCTRL_CONTROL_SIMOBUCK_INIT) -> am_hal_pwrctrl_temp_update()
- Multi-image transition requirements
  For multi-image situations, application must turn off all peripherals, get back to LP mode (if needed), and call 
  am_hal_pwrctrl_settings_restore() before exiting one application to transition to other
- External pSRAM bandwidth limitations — whether caused by insufficient interface frequency or contention from concurrent memory access
  activities such as XIP may result in display image corruption. As a mitigation, the MANUALLY_CONTROL_DBIB_CSX option may be enabled.
  This can avoid the risk of display corruption but comes at the cost of increased CPU load.
  
Software Updates
================
Bug Fixes
---------
[USB] Fixed issue where USB PHY clock is not disabled as expected for Apollo510L when powering down USB in TinyUSB porting. 
[BSP] Workaround to force SWO pin high before disabling SWO port (known errata), to avoid glitch in SWO line when it is being disabled. 
[HAL: Clkmgr] Increased minimum integer mode's FBDIV to 10, to improve stability of integer mode. 
[HAL: PWRCTRL]
- Fixed bugs in am_get_pwrctrl (non - ram table version).
- Checked the return value of am_hal_spotmgr_power_state_update when calling it from PWRCTRL HAL.
- Updated am_hal_pwrctrl_syspll_enabled to checking for PWRSTPLL register instead of SYSPLLVDDFPDN.
- Moved I3C IOM4 and IOM5 into HCPC power domain.
- Reorganized am_hal_pwrctrl_low_power_init and am_hal_pwrctrl_mcu_and_spotmgr_init.
- Updated am_hal_pwrctrl_settings_restore to guaranteeing MCU go back to power state 1.
[HAL: ADC] Fixed a bug that ADC fails to release HFRC via clock manager after power-off
[NemaDC]
- Fixed a logical bug that wrongly using logical AND when it should be bit-wise AND.
- Fixed a bug in releasing HFRC clock.
[Third-Party: Corido] Fixed MRAM region relocation for Cordio BLE database
[Third-Party: open-amp] Fixed IPC memory allocation and compilation issues

Enhancements
------------
[HAL: Clkmgr] Implemented user ID "prestart" for clock pre-starting, which will be automatically cleared when an actual user requested the same clock. 
[HAL: SYSCTRL] 
- Added the support for reporting deep sleep and deeper sleep to spot manager from am_hal_sysctrl_sleep.
- Set eElpConfig to AM_HAL_PWRCTRL_ELP_RET before entering normal sleep.
[HAL: SPOTMGR]
- Trimver1:
  = Added the support for reporting temp before calling am_hal_pwrctrl_low_power_init.
  = Updated spotmgr to reading current CPU state from registers instead of global variables.
  = Set the default temp to HIGH.
  = Updated AM_HAL_SPOTMGR_PROFILING feature in spotmgr HAL.
- Trimver2 support added
[HAL: I3C]
- Added 16bit sub-address support to i3c legacy i2c combo transfer.
- Reduced write and read latency for I3C PIO mode.
[HAL: MSPI] Replaced hard code with enum for MSPI QUAD DDR PADOUTEN setting.

[NemaDC]
- Added support to Directly toggled DBIB_CSX signal by software when sending frame to DSI. <TBD - need more details/guidance>
[Radio] Memory Optimization: Proper IPC shared memory allocation and SSRAM utilization for DMA buffers
[Radio] Connection Management: Enhanced disconnection handling and scanning restart mechanisms
[Radio] Security: Improved encryption and pairing procedures with better error handling
[Radio] Documentation: Updated README files for various BLE samples and uart_hci_bridge
[Radio] Code Cleanup: Removed unused code and improved code organization
[Radio] HCI Driver: Enhanced 510L HCI driver with improved timeout handling
[Driver] Optimized LPS22HH I3C device initialization and de-initialization sequences.
[Driver] Changed variable naming to avoid conflict in am_devices_mspi_psram_aps25616ba_1p2v.h
[BSP] Moved temperature report API call to before calling am_hal_pwrctrl_low_power_init.
[Example: coremark_pro] Added HEAP_IN_SSRAM option for coremark pro to have the stack and heap in SSRAM only.
[Example: spotmgr_profiler] Updated spotmgr_profiler example for both trimver1 and trimver2 parts.
 
New Features
------------
* Added voltage comparator HAL.
* Device Support: 
- Added support for tas2560 and ssm6515 devices
- Added new I3C device driver for LSM6DSO sensor.
- Added new I3C device driver for MB85RC1MT FRAM.

Known Issues and Limitations
============================
# There are known issues operating Trim2 parts at temperature at or below -20C. It should be avoided.