<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ambiq NeuralSPOT: /Users/carlosmorales/AmbiqDev/neuralSPOT/neuralspot/ns-ipc/includes-api/ns_ipc_ring_buffer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="am_intelligence.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ambiq NeuralSPOT<span id="projectnumber">&#160;Beta</span>
   </div>
   <div id="projectbrief">NeuralSPOT is Ambiq&#39;s collection of AI libraries and tools</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ns__ipc__ring__buffer_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ns_ipc_ring_buffer.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Some helper functions for implementing and managing a ring buffer.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div>
<p><a href="ns__ipc__ring__buffer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structns__ipc__ringbuff__setup__t.html">ns_ipc_ringbuff_setup_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab7fcf8a6c669f06f870178e2758db448"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#ab7fcf8a6c669f06f870178e2758db448">ns_ipc_ring_buffer_init</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *ring_buffs, <a class="el" href="structns__ipc__ringbuff__setup__t.html">ns_ipc_ringbuff_setup_t</a> setup)</td></tr>
<tr class="memdesc:ab7fcf8a6c669f06f870178e2758db448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a ring buffer structure.  <a href="ns__ipc__ring__buffer_8h.html#ab7fcf8a6c669f06f870178e2758db448">More...</a><br /></td></tr>
<tr class="separator:ab7fcf8a6c669f06f870178e2758db448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3ae5fa5df9c011842d9269fde555ab0"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#aa3ae5fa5df9c011842d9269fde555ab0">ns_ipc_ring_buffer_push</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psBuffer, void *pvSource, uint32_t ui32Bytes, bool bFullCheck)</td></tr>
<tr class="separator:aa3ae5fa5df9c011842d9269fde555ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f86aa46a59d2b5e321b46474af85d3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#a01f86aa46a59d2b5e321b46474af85d3">ns_ipc_ring_buffer_pop</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psBuffer, void *pvDest, uint32_t ui32Bytes)</td></tr>
<tr class="separator:a01f86aa46a59d2b5e321b46474af85d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3b96d5690c2683ed8b15fa131e357ae"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#af3b96d5690c2683ed8b15fa131e357ae">ns_ipc_get_ring_buffer_status</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psBuffer)</td></tr>
<tr class="memdesc:af3b96d5690c2683ed8b15fa131e357ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the number of data left in ring buffer .  <a href="ns__ipc__ring__buffer_8h.html#af3b96d5690c2683ed8b15fa131e357ae">More...</a><br /></td></tr>
<tr class="separator:af3b96d5690c2683ed8b15fa131e357ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af86bb1d209fb12bcef6a8d67d27e78e7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#af86bb1d209fb12bcef6a8d67d27e78e7">ns_ipc_ring_buffer_empty</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psBuffer)</td></tr>
<tr class="separator:af86bb1d209fb12bcef6a8d67d27e78e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc0f0d966d87f6e8b51ff028aa4d147"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#afbc0f0d966d87f6e8b51ff028aa4d147">ns_ipc_flush_ring_buffer</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psBuffer)</td></tr>
<tr class="memdesc:afbc0f0d966d87f6e8b51ff028aa4d147"><td class="mdescLeft">&#160;</td><td class="mdescRight">flush the ring buffer  <a href="ns__ipc__ring__buffer_8h.html#afbc0f0d966d87f6e8b51ff028aa4d147">More...</a><br /></td></tr>
<tr class="separator:afbc0f0d966d87f6e8b51ff028aa4d147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefbde93cd7332d0d480b18f5a334c65d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ns__ipc__ring__buffer_8h.html#aefbde93cd7332d0d480b18f5a334c65d">ns_ipc_ring_process</a> (<a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *psSource, void *pvDest, uint32_t process_frame_bytes)</td></tr>
<tr class="memdesc:aefbde93cd7332d0d480b18f5a334c65d"><td class="mdescLeft">&#160;</td><td class="mdescRight">used in while loop to process all data in ring buffer e.g.  <a href="ns__ipc__ring__buffer_8h.html#aefbde93cd7332d0d480b18f5a334c65d">More...</a><br /></td></tr>
<tr class="separator:aefbde93cd7332d0d480b18f5a334c65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Some helper functions for implementing and managing a ring buffer. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afbc0f0d966d87f6e8b51ff028aa4d147" name="afbc0f0d966d87f6e8b51ff028aa4d147"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc0f0d966d87f6e8b51ff028aa4d147">&#9670;&nbsp;</a></span>ns_ipc_flush_ring_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns_ipc_flush_ring_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flush the ring buffer </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psBuffer</td><td>is the address of the ring buffer which needs to be flushed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>None.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
<a id="af3b96d5690c2683ed8b15fa131e357ae" name="af3b96d5690c2683ed8b15fa131e357ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3b96d5690c2683ed8b15fa131e357ae">&#9670;&nbsp;</a></span>ns_ipc_get_ring_buffer_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns_ipc_get_ring_buffer_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the number of data left in ring buffer . </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psBuffer</td><td>is the address of the ring buffer structure to be read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This operation is not inherently thread-safe, so the caller must make sure that it is appropriately guarded from interrupts and context switches.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of data left. </dd></dl>

</div>
</div>
<a id="af86bb1d209fb12bcef6a8d67d27e78e7" name="af86bb1d209fb12bcef6a8d67d27e78e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af86bb1d209fb12bcef6a8d67d27e78e7">&#9670;&nbsp;</a></span>ns_ipc_ring_buffer_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ns_ipc_ring_buffer_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psBuffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab7fcf8a6c669f06f870178e2758db448" name="ab7fcf8a6c669f06f870178e2758db448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7fcf8a6c669f06f870178e2758db448">&#9670;&nbsp;</a></span>ns_ipc_ring_buffer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ns_ipc_ring_buffer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>ring_buffs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structns__ipc__ringbuff__setup__t.html">ns_ipc_ringbuff_setup_t</a>&#160;</td>
          <td class="paramname"><em>setup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a ring buffer structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psBuffer</td><td>is a pointer to the buffer structure to be initialized.</td></tr>
    <tr><td class="paramname">pvArray</td><td>is a pointer to the array that the new ringbuffer will use for storage space</td></tr>
    <tr><td class="paramname">ui32Bytes</td><td>is the total number of bytes that the ringbuffer will be allowed to use.</td></tr>
  </table>
  </dd>
</dl>
<p>This function should be called on a ring buffer structure before it is used. If this function is called on a ring buffer that is already being used, it will "erase" the buffer, effectively removing all of the buffer contents from the perspective of the other ring buffer access functions. The data will remain in memory, but it will be overwritten as the buffer is used.</p>
<dl class="section note"><dt>Note</dt><dd>This operation is not inherently thread-safe, so the caller must make sure that it is appropriately guarded from interrupts and context switches.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a01f86aa46a59d2b5e321b46474af85d3" name="a01f86aa46a59d2b5e321b46474af85d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f86aa46a59d2b5e321b46474af85d3">&#9670;&nbsp;</a></span>ns_ipc_ring_buffer_pop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns_ipc_ring_buffer_pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa3ae5fa5df9c011842d9269fde555ab0" name="aa3ae5fa5df9c011842d9269fde555ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3ae5fa5df9c011842d9269fde555ab0">&#9670;&nbsp;</a></span>ns_ipc_ring_buffer_push()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns_ipc_ring_buffer_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFullCheck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aefbde93cd7332d0d480b18f5a334c65d" name="aefbde93cd7332d0d480b18f5a334c65d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefbde93cd7332d0d480b18f5a334c65d">&#9670;&nbsp;</a></span>ns_ipc_ring_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ns_ipc_ring_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structns__ipc__ring__buffer__t.html">ns_ipc_ring_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>psSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>process_frame_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>used in while loop to process all data in ring buffer e.g. </p>
<p >while(ns_ipc_ring_process(src, dst, FRAME_SIZE))){}</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psSource</td><td>target ring buffer of ring processing pvDest: pointer of processing parameters (array) process_frame_bytes: number of bytes processed by a round</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>None.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b966c3a1db5c31a4ee97007b042e453f.html">neuralspot</a></li><li class="navelem"><a class="el" href="dir_593bfb5af9e05549f882a5524317fa74.html">ns-ipc</a></li><li class="navelem"><a class="el" href="dir_5d9d2e37289e7c9ca5c27cadf395a735.html">includes-api</a></li><li class="navelem"><a class="el" href="ns__ipc__ring__buffer_8h.html">ns_ipc_ring_buffer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
