<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: Secure-OTA - Secure Over-the-Air Functionality</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;R3.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Secure-OTA - Secure Over-the-Air Functionality<div class="ingroups"><a class="el" href="group__hal.html">Hardware Abstraction Layer (HAL)</a> &raquo; <a class="el" href="group__apollo3p__hal.html">apollo3p</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__hal__secure__ota__state__t.html">am_hal_secure_ota_state_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal OTA state information.  <a href="structam__hal__secure__ota__state__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__image__hdr__common__t.html">am_image_hdr_common_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">First 30 words of the image headers follow similar pattern.  <a href="structam__image__hdr__common__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__main__image__hdr__t.html">am_main_image_hdr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__thirdparty__image__hdr__t.html">am_thirdparty_image_hdr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__sbl__image__hdr__t.html">am_sbl_image_hdr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__hal__ota__status__t.html">am_hal_ota_status_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Per Image OTA Status information.  <a href="structam__hal__ota__status__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga39689060d1c50479fd3bd14c206507e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga39689060d1c50479fd3bd14c206507e2">FLASH_INVALID</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:ga39689060d1c50479fd3bd14c206507e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2cfa04925b10e2472af867562d09a5b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga2cfa04925b10e2472af867562d09a5b7">AM_IMAGE_MAGIC_SBL</a>&#160;&#160;&#160;0xA3</td></tr>
<tr class="separator:ga2cfa04925b10e2472af867562d09a5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7c5de0932275161b50eb1c3b609f37e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gaa7c5de0932275161b50eb1c3b609f37e">AM_IMAGE_MAGIC_AM3P</a>&#160;&#160;&#160;0x3A</td></tr>
<tr class="separator:gaa7c5de0932275161b50eb1c3b609f37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea6ca16097918df825a020429b882225"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gaea6ca16097918df825a020429b882225">AM_IMAGE_MAGIC_PATCH</a>&#160;&#160;&#160;0xAF</td></tr>
<tr class="separator:gaea6ca16097918df825a020429b882225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9c3f0ee10cdf5864067a2a8cb6f6ae7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gaf9c3f0ee10cdf5864067a2a8cb6f6ae7">AM_IMAGE_MAGIC_INFO1_UPDATE</a>&#160;&#160;&#160;0xA0</td></tr>
<tr class="separator:gaf9c3f0ee10cdf5864067a2a8cb6f6ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70920fb79e6e5228961c2ebdfd3eb95c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga70920fb79e6e5228961c2ebdfd3eb95c">AM_IMAGE_MAGIC_MAIN</a>&#160;&#160;&#160;0xC0</td></tr>
<tr class="separator:ga70920fb79e6e5228961c2ebdfd3eb95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa23dfe35d1e19134e72d46181ee4103e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gaa23dfe35d1e19134e72d46181ee4103e">AM_IMAGE_MAGIC_CHILD</a>&#160;&#160;&#160;0xCC</td></tr>
<tr class="separator:gaa23dfe35d1e19134e72d46181ee4103e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34a8da9144695bc40b08b19190181291"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga34a8da9144695bc40b08b19190181291">AM_IMAGE_MAGIC_NONSECURE</a>&#160;&#160;&#160;0xCB</td></tr>
<tr class="separator:ga34a8da9144695bc40b08b19190181291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fec4df14a2ff951da87bade99fc7c97"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga6fec4df14a2ff951da87bade99fc7c97">AM_IMAGE_MAGIC_INFO0</a>&#160;&#160;&#160;0xCF</td></tr>
<tr class="separator:ga6fec4df14a2ff951da87bade99fc7c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a05a712c1e98af7cde38663019ed7ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga8a05a712c1e98af7cde38663019ed7ce">AM_IMAGE_BITMASK_ENCRYPTED</a>&#160;&#160;&#160;0x00800000</td></tr>
<tr class="memdesc:ga8a05a712c1e98af7cde38663019ed7ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitmask used to clear encrypted status in flash.  <a href="group__SecOTA3p.html#ga8a05a712c1e98af7cde38663019ed7ce">More...</a><br /></td></tr>
<tr class="separator:ga8a05a712c1e98af7cde38663019ed7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6efaa919a8c2192c307efdf7afa48f79"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga6efaa919a8c2192c307efdf7afa48f79">AM_IMAGE_LOAD_ADDR_MSB_BITS</a>&#160;&#160;&#160;30</td></tr>
<tr class="memdesc:ga6efaa919a8c2192c307efdf7afa48f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of most significant bits in w28 used for load address.  <a href="group__SecOTA3p.html#ga6efaa919a8c2192c307efdf7afa48f79">More...</a><br /></td></tr>
<tr class="separator:ga6efaa919a8c2192c307efdf7afa48f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44b0e644b119169bebff42e2a14a46b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga44b0e644b119169bebff42e2a14a46b5">AM_IMAGE_GET_LOADADDR</a>(common)&#160;&#160;&#160;(((<a class="el" href="structam__image__hdr__common__t.html">am_image_hdr_common_t</a> *)(common))-&gt;addrWord.s.loadAddrMsb &lt;&lt; (32 - <a class="el" href="group__SecOTA3p.html#ga6efaa919a8c2192c307efdf7afa48f79">AM_IMAGE_LOAD_ADDR_MSB_BITS</a>))</td></tr>
<tr class="separator:ga44b0e644b119169bebff42e2a14a46b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2db8b8d420105dccc61244febec530f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga2db8b8d420105dccc61244febec530f6">AM_IMAGE_NUM_TRAILING_WORDS_TO_256</a>&#160;&#160;&#160;((256 - sizeof(<a class="el" href="structam__image__hdr__common__t.html">am_image_hdr_common_t</a>))/4)</td></tr>
<tr class="separator:ga2db8b8d420105dccc61244febec530f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef380d7543379f3ebb79d579e812d790"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gaef380d7543379f3ebb79d579e812d790">AM_IMAGE_MAX_CHILD_IMAGE</a>&#160;&#160;&#160;<a class="el" href="group__SecOTA3p.html#ga2db8b8d420105dccc61244febec530f6">AM_IMAGE_NUM_TRAILING_WORDS_TO_256</a></td></tr>
<tr class="separator:gaef380d7543379f3ebb79d579e812d790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24148e7e6aa63461a70182c85c62f57f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga24148e7e6aa63461a70182c85c62f57f">AM_IMAGE_MAGIC_CUST</a>(x)&#160;&#160;&#160;((((x) &amp; 0xF0) == 0xC0) &amp;&amp; ((x) != 0xC0) &amp;&amp; ((x) != 0xCC) &amp;&amp; ((x) != 0xCB) &amp;&amp; ((x) != 0xCF))</td></tr>
<tr class="memdesc:ga24148e7e6aa63461a70182c85c62f57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserved magic numbers allowed to be used by customer's own bootloader.  <a href="group__SecOTA3p.html#ga24148e7e6aa63461a70182c85c62f57f">More...</a><br /></td></tr>
<tr class="separator:ga24148e7e6aa63461a70182c85c62f57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga081909505d32a71dc27ef063d5b7d06b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga081909505d32a71dc27ef063d5b7d06b">AM_HAL_SECURE_OTA_MAX_OTA</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga081909505d32a71dc27ef063d5b7d06b"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Upgrade related definitions.  <a href="group__SecOTA3p.html#ga081909505d32a71dc27ef063d5b7d06b">More...</a><br /></td></tr>
<tr class="separator:ga081909505d32a71dc27ef063d5b7d06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3577fbb11ead17ed1dff361732cfb9f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>&#160;&#160;&#160;0x3</td></tr>
<tr class="separator:ga3577fbb11ead17ed1dff361732cfb9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21a2610690440c047dedf15d6632949d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga21a2610690440c047dedf15d6632949d">AM_HAL_SECURE_OTA_OTA_GET_BLOB_PTR</a>(ptr)&#160;&#160;&#160;((uint32_t)(ptr) &amp; ~<a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>)</td></tr>
<tr class="separator:ga21a2610690440c047dedf15d6632949d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac134bb9bd5cccb1ff4f3de371cb9970a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#gac134bb9bd5cccb1ff4f3de371cb9970a">AM_HAL_SECURE_OTA_OTA_IS_VALID</a>(ptr)&#160;&#160;&#160;(((uint32_t)(ptr) &amp; <a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>) == <a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>)</td></tr>
<tr class="separator:gac134bb9bd5cccb1ff4f3de371cb9970a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5de5ddc9248544bf50f49fb5c1e6d57a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga5de5ddc9248544bf50f49fb5c1e6d57a">AM_HAL_SECURE_OTA_OTA_LIST_END_MARKER</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="separator:ga5de5ddc9248544bf50f49fb5c1e6d57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ab876173b41f6f739f0572c52ba580c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga5ab876173b41f6f739f0572c52ba580c">AM_HAL_SECURE_OTA_OTA_DONE_FAILURE_CLRMASK</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="memdesc:ga5ab876173b41f6f739f0572c52ba580c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bitmasks signifying the bit to be cleared for OTA success/failure.  <a href="group__SecOTA3p.html#ga5ab876173b41f6f739f0572c52ba580c">More...</a><br /></td></tr>
<tr class="separator:ga5ab876173b41f6f739f0572c52ba580c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a2835a190f67980702db89c54bad1ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga9a2835a190f67980702db89c54bad1ce">AM_HAL_SECURE_OTA_OTA_DONE_SUCCESS_CLRMASK</a>&#160;&#160;&#160;0x3</td></tr>
<tr class="separator:ga9a2835a190f67980702db89c54bad1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga8ffee1b9033429f6897eec08f107614b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga8ffee1b9033429f6897eec08f107614b">am_hal_ota_status_e</a> { <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7">AM_HAL_OTA_STATUS_SUCCESS</a> = 0x0
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04">AM_HAL_OTA_STATUS_ERROR</a> = 0x1
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74">AM_HAL_OTA_STATUS_FAILURE</a> = 0x2
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb">AM_HAL_OTA_STATUS_PENDING</a> = 0x3
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7">AM_HAL_OTA_STATUS_SUCCESS</a> = 0x0
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04">AM_HAL_OTA_STATUS_ERROR</a> = 0x1
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74">AM_HAL_OTA_STATUS_FAILURE</a> = 0x2
, <br />
&#160;&#160;<a class="el" href="group__SecOTA3p.html#gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb">AM_HAL_OTA_STATUS_PENDING</a> = 0x3
<br />
 }</td></tr>
<tr class="memdesc:ga8ffee1b9033429f6897eec08f107614b"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Status.  <a href="group__SecOTA3p.html#ga8ffee1b9033429f6897eec08f107614b">More...</a><br /></td></tr>
<tr class="separator:ga8ffee1b9033429f6897eec08f107614b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6693ea978600c2895803349a52f98877"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga6693ea978600c2895803349a52f98877">am_hal_ota_init</a> (uint32_t ui32ProgamKey, uint32_t *pOtaDesc)</td></tr>
<tr class="memdesc:ga6693ea978600c2895803349a52f98877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize OTA state.  <a href="group__SecOTA3p.html#ga6693ea978600c2895803349a52f98877">More...</a><br /></td></tr>
<tr class="separator:ga6693ea978600c2895803349a52f98877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65d230a2d3f18c7ab9799ca4dbf1bb7a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga65d230a2d3f18c7ab9799ca4dbf1bb7a">am_hal_ota_add</a> (uint32_t ui32ProgamKey, uint8_t imageMagic, uint32_t *pImage)</td></tr>
<tr class="memdesc:ga65d230a2d3f18c7ab9799ca4dbf1bb7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new image for OTA.  <a href="group__SecOTA3p.html#ga65d230a2d3f18c7ab9799ca4dbf1bb7a">More...</a><br /></td></tr>
<tr class="separator:ga65d230a2d3f18c7ab9799ca4dbf1bb7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b5094c476a2897e6fc3264d06b9b0a9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__SecOTA3p.html#ga3b5094c476a2897e6fc3264d06b9b0a9">am_hal_get_ota_status</a> (uint32_t *pOtaDesc, uint32_t maxOta, <a class="el" href="structam__hal__ota__status__t.html">am_hal_ota_status_t</a> *pStatus)</td></tr>
<tr class="memdesc:ga3b5094c476a2897e6fc3264d06b9b0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Current OTA Descriptor state.  <a href="group__SecOTA3p.html#ga3b5094c476a2897e6fc3264d06b9b0a9">More...</a><br /></td></tr>
<tr class="separator:ga3b5094c476a2897e6fc3264d06b9b0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga081909505d32a71dc27ef063d5b7d06b" name="ga081909505d32a71dc27ef063d5b7d06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga081909505d32a71dc27ef063d5b7d06b">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_MAX_OTA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_MAX_OTA&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Upgrade related definitions. </p>
<p >Maximum number of OTAs </p>

</div>
</div>
<a id="ga5ab876173b41f6f739f0572c52ba580c" name="ga5ab876173b41f6f739f0572c52ba580c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ab876173b41f6f739f0572c52ba580c">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_DONE_FAILURE_CLRMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_DONE_FAILURE_CLRMASK&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitmasks signifying the bit to be cleared for OTA success/failure. </p>

</div>
</div>
<a id="ga9a2835a190f67980702db89c54bad1ce" name="ga9a2835a190f67980702db89c54bad1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9a2835a190f67980702db89c54bad1ce">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_DONE_SUCCESS_CLRMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_DONE_SUCCESS_CLRMASK&#160;&#160;&#160;0x3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga21a2610690440c047dedf15d6632949d" name="ga21a2610690440c047dedf15d6632949d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21a2610690440c047dedf15d6632949d">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_GET_BLOB_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_GET_BLOB_PTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;((uint32_t)(ptr) &amp; ~<a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac134bb9bd5cccb1ff4f3de371cb9970a" name="gac134bb9bd5cccb1ff4f3de371cb9970a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac134bb9bd5cccb1ff4f3de371cb9970a">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_IS_VALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_IS_VALID</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr</td><td>)</td>
          <td>&#160;&#160;&#160;(((uint32_t)(ptr) &amp; <a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>) == <a class="el" href="group__SecOTA3p.html#ga3577fbb11ead17ed1dff361732cfb9f6">AM_HAL_SECURE_OTA_OTA_VALID_MASK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5de5ddc9248544bf50f49fb5c1e6d57a" name="ga5de5ddc9248544bf50f49fb5c1e6d57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5de5ddc9248544bf50f49fb5c1e6d57a">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_LIST_END_MARKER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_LIST_END_MARKER&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3577fbb11ead17ed1dff361732cfb9f6" name="ga3577fbb11ead17ed1dff361732cfb9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3577fbb11ead17ed1dff361732cfb9f6">&#9670;&nbsp;</a></span>AM_HAL_SECURE_OTA_OTA_VALID_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURE_OTA_OTA_VALID_MASK&#160;&#160;&#160;0x3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >OTA Protocol between OTA application and SecureBoot OTAPOINTER will be initialized as follows: Most significant 30 bits will correspond to most significant 30 bits of OTA Descriptor Least Significant bit (bit 0) should be initialized to 1 to indicate a valid OTA Descriptor bit 1 should be initialized to 1 to indicate that the list contains an SBL OTA OTA Descriptor points to a list of entries, each corresponding to an OTA blob, list terminating in 0xFFFFFFFF Each list entry word comprises of following: Most significant 30 bits will correspond to most significant 30 bits of OTA blob pointer Blob pointer needs to be aligned to Flash Page boundary (8K) Least Significant 2 bits should be initialized to 1 to indicate a valid OTA Pending After Secboot processes an OTA, it clears the least significant bit (bit 0) bit 1 indicates the status of the OTA - 0 for Success, 1 for Failure </p>

</div>
</div>
<a id="ga8a05a712c1e98af7cde38663019ed7ce" name="ga8a05a712c1e98af7cde38663019ed7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a05a712c1e98af7cde38663019ed7ce">&#9670;&nbsp;</a></span>AM_IMAGE_BITMASK_ENCRYPTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_BITMASK_ENCRYPTED&#160;&#160;&#160;0x00800000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bitmask used to clear encrypted status in flash. </p>

</div>
</div>
<a id="ga44b0e644b119169bebff42e2a14a46b5" name="ga44b0e644b119169bebff42e2a14a46b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44b0e644b119169bebff42e2a14a46b5">&#9670;&nbsp;</a></span>AM_IMAGE_GET_LOADADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_GET_LOADADDR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">common</td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="structam__image__hdr__common__t.html">am_image_hdr_common_t</a> *)(common))-&gt;addrWord.s.loadAddrMsb &lt;&lt; (32 - <a class="el" href="group__SecOTA3p.html#ga6efaa919a8c2192c307efdf7afa48f79">AM_IMAGE_LOAD_ADDR_MSB_BITS</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6efaa919a8c2192c307efdf7afa48f79" name="ga6efaa919a8c2192c307efdf7afa48f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6efaa919a8c2192c307efdf7afa48f79">&#9670;&nbsp;</a></span>AM_IMAGE_LOAD_ADDR_MSB_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_LOAD_ADDR_MSB_BITS&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of most significant bits in w28 used for load address. </p>

</div>
</div>
<a id="gaa7c5de0932275161b50eb1c3b609f37e" name="gaa7c5de0932275161b50eb1c3b609f37e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7c5de0932275161b50eb1c3b609f37e">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_AM3P</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_AM3P&#160;&#160;&#160;0x3A</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaa23dfe35d1e19134e72d46181ee4103e" name="gaa23dfe35d1e19134e72d46181ee4103e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa23dfe35d1e19134e72d46181ee4103e">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_CHILD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_CHILD&#160;&#160;&#160;0xCC</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga24148e7e6aa63461a70182c85c62f57f" name="ga24148e7e6aa63461a70182c85c62f57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24148e7e6aa63461a70182c85c62f57f">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_CUST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_CUST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((((x) &amp; 0xF0) == 0xC0) &amp;&amp; ((x) != 0xC0) &amp;&amp; ((x) != 0xCC) &amp;&amp; ((x) != 0xCB) &amp;&amp; ((x) != 0xCF))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserved magic numbers allowed to be used by customer's own bootloader. </p>

</div>
</div>
<a id="ga6fec4df14a2ff951da87bade99fc7c97" name="ga6fec4df14a2ff951da87bade99fc7c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fec4df14a2ff951da87bade99fc7c97">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_INFO0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_INFO0&#160;&#160;&#160;0xCF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf9c3f0ee10cdf5864067a2a8cb6f6ae7" name="gaf9c3f0ee10cdf5864067a2a8cb6f6ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf9c3f0ee10cdf5864067a2a8cb6f6ae7">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_INFO1_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_INFO1_UPDATE&#160;&#160;&#160;0xA0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga70920fb79e6e5228961c2ebdfd3eb95c" name="ga70920fb79e6e5228961c2ebdfd3eb95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70920fb79e6e5228961c2ebdfd3eb95c">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_MAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_MAIN&#160;&#160;&#160;0xC0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga34a8da9144695bc40b08b19190181291" name="ga34a8da9144695bc40b08b19190181291"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34a8da9144695bc40b08b19190181291">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_NONSECURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_NONSECURE&#160;&#160;&#160;0xCB</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaea6ca16097918df825a020429b882225" name="gaea6ca16097918df825a020429b882225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea6ca16097918df825a020429b882225">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_PATCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_PATCH&#160;&#160;&#160;0xAF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2cfa04925b10e2472af867562d09a5b7" name="ga2cfa04925b10e2472af867562d09a5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2cfa04925b10e2472af867562d09a5b7">&#9670;&nbsp;</a></span>AM_IMAGE_MAGIC_SBL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAGIC_SBL&#160;&#160;&#160;0xA3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Ambiq Standard Image Format related definitions Magic Numbers </p>

</div>
</div>
<a id="gaef380d7543379f3ebb79d579e812d790" name="gaef380d7543379f3ebb79d579e812d790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef380d7543379f3ebb79d579e812d790">&#9670;&nbsp;</a></span>AM_IMAGE_MAX_CHILD_IMAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_MAX_CHILD_IMAGE&#160;&#160;&#160;<a class="el" href="group__SecOTA3p.html#ga2db8b8d420105dccc61244febec530f6">AM_IMAGE_NUM_TRAILING_WORDS_TO_256</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2db8b8d420105dccc61244febec530f6" name="ga2db8b8d420105dccc61244febec530f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2db8b8d420105dccc61244febec530f6">&#9670;&nbsp;</a></span>AM_IMAGE_NUM_TRAILING_WORDS_TO_256</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IMAGE_NUM_TRAILING_WORDS_TO_256&#160;&#160;&#160;((256 - sizeof(<a class="el" href="structam__image__hdr__common__t.html">am_image_hdr_common_t</a>))/4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga39689060d1c50479fd3bd14c206507e2" name="ga39689060d1c50479fd3bd14c206507e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39689060d1c50479fd3bd14c206507e2">&#9670;&nbsp;</a></span>FLASH_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INVALID&#160;&#160;&#160;0xFFFFFFFF</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga8ffee1b9033429f6897eec08f107614b" name="ga8ffee1b9033429f6897eec08f107614b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ffee1b9033429f6897eec08f107614b">&#9670;&nbsp;</a></span>am_hal_ota_status_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__SecOTA3.html#ga8ffee1b9033429f6897eec08f107614b">am_hal_ota_status_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7" name="gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7"></a>AM_HAL_OTA_STATUS_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04" name="gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04"></a>AM_HAL_OTA_STATUS_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74" name="gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74"></a>AM_HAL_OTA_STATUS_FAILURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb" name="gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb"></a>AM_HAL_OTA_STATUS_PENDING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7" name="gga8ffee1b9033429f6897eec08f107614babd31ce110cea78e140c102f91278fcb7"></a>AM_HAL_OTA_STATUS_SUCCESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04" name="gga8ffee1b9033429f6897eec08f107614ba601b0e685faa4ce397e9457e9df33f04"></a>AM_HAL_OTA_STATUS_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74" name="gga8ffee1b9033429f6897eec08f107614ba0e099e8df57059a89ab01a7073c2cc74"></a>AM_HAL_OTA_STATUS_FAILURE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb" name="gga8ffee1b9033429f6897eec08f107614ba46737e93fac3167a14ae0c7dc3272dbb"></a>AM_HAL_OTA_STATUS_PENDING&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3b5094c476a2897e6fc3264d06b9b0a9" name="ga3b5094c476a2897e6fc3264d06b9b0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b5094c476a2897e6fc3264d06b9b0a9">&#9670;&nbsp;</a></span>am_hal_get_ota_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_get_ota_status </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pOtaDesc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxOta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structam__hal__ota__status__t.html">am_hal_ota_status_t</a> *&#160;</td>
          <td class="paramname"><em>pStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Current OTA Descriptor state. </p>
<p >This will retrieve the current OTA status of various images added to the OTA descr</p>
<dl class="section note"><dt>Note</dt><dd>Can be called anytime (generally after coming back from reset to check the status of OTA </dd></dl>
<dl class="section user"><dt></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>Will be also used by sbl_main to identify list of OTA's left for it (would show up as PENDING)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pOtaDesc</td><td>- Should be start of a flash page designated for OTA Descriptor </td></tr>
    <tr><td class="paramname">maxOta</td><td>- Determines the size of the following buffer </td></tr>
    <tr><td class="paramname">pStatus</td><td>- Return Parameter - populated by this function indicating the OTA status of various OTA's</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga65d230a2d3f18c7ab9799ca4dbf1bb7a" name="ga65d230a2d3f18c7ab9799ca4dbf1bb7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65d230a2d3f18c7ab9799ca4dbf1bb7a">&#9670;&nbsp;</a></span>am_hal_ota_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_ota_add </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ProgamKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageMagic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pImage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new image for OTA. </p>
<p >Adds a new image to the OTA Descriptor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ProgamKey</td><td>- The Flash programming key </td></tr>
    <tr><td class="paramname">imageMagic</td><td>- Image magic# identifying type of image being added to OTA descr </td></tr>
    <tr><td class="paramname">pImage</td><td>- Should point to the start of new image to be added to descr</td></tr>
  </table>
  </dd>
</dl>
<p>This will program the next available entry in OTA descriptor. It will also set appropriate state in the OTA pointer register</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga6693ea978600c2895803349a52f98877" name="ga6693ea978600c2895803349a52f98877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6693ea978600c2895803349a52f98877">&#9670;&nbsp;</a></span>am_hal_ota_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_ota_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ProgamKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pOtaDesc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize OTA state. </p>
<p >Initializes the OTA state. This should be called before doing any other operation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ProgamKey</td><td>- The Flash programming key </td></tr>
    <tr><td class="paramname">pOtaDesc</td><td>- Should be start of a flash page designated for OTA Descriptor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This call will erase the flash page, which will then be incrementally populated as OTA's are added. It will also initialize the OTAPOINTER to point to this descriptor, marking it as invalid at the same time</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Fri Mar 17 2023 22:40:41 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2023&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
