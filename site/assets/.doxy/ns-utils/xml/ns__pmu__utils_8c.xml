<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.4" xml:lang="en-US">
  <compounddef id="ns__pmu__utils_8c" kind="file" language="C++">
    <compoundname>ns_pmu_utils.c</compoundname>
    <includes local="yes">ns_core.h</includes>
    <includes refid="ns__pmu__map_8h" local="yes">ns_pmu_map.h</includes>
    <includes refid="ns__pmu__utils_8h" local="yes">ns_pmu_utils.h</includes>
    <includes local="no">string.h</includes>
    <incdepgraph>
      <node id="3">
        <label>ns_pmu_map.h</label>
        <link refid="ns__pmu__map_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>ns_pmu_utils.h</label>
        <link refid="ns__pmu__utils_8h"/>
      </node>
      <node id="1">
        <label>neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c</label>
        <link refid="ns__pmu__utils_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>am_mcu_apollo.h</label>
      </node>
      <node id="2">
        <label>ns_core.h</label>
      </node>
      <node id="6">
        <label>string.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a6820094de3649bed6744af602285a073" prot="public" static="no" mutable="no">
        <type>const ns_core_api_t</type>
        <definition>const ns_core_api_t ns_pmu_V0_0_1</definition>
        <argsstring></argsstring>
        <name>ns_pmu_V0_0_1</name>
        <initializer>= {.apiId = NS_PMU_API_ID, .version = NS_PMU_V0_0_1}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="17" column="21" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="17" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1ae136d42fb35a78f966d0529d5f261ba0" prot="public" static="no" mutable="no">
        <type>const ns_core_api_t</type>
        <definition>const ns_core_api_t ns_pmu_V1_0_0</definition>
        <argsstring></argsstring>
        <name>ns_pmu_V1_0_0</name>
        <initializer>= {.apiId = NS_PMU_API_ID, .version = NS_PMU_V1_0_0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="18" column="21" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="18" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1ad6cd5abb5f41b07110dd34308066dea1" prot="public" static="no" mutable="no">
        <type>const ns_core_api_t</type>
        <definition>const ns_core_api_t ns_pmu_oldest_supported_version</definition>
        <argsstring></argsstring>
        <name>ns_pmu_oldest_supported_version</name>
        <initializer>= {
    .apiId = NS_PMU_API_ID, .version = NS_PMU_V0_0_1}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="19" column="21" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1abe07149dd49d019e212d05f188950340" prot="public" static="no" mutable="no">
        <type>const ns_core_api_t</type>
        <definition>const ns_core_api_t ns_pmu_current_version</definition>
        <argsstring></argsstring>
        <name>ns_pmu_current_version</name>
        <initializer>= {
    .apiId = NS_PMU_API_ID, .version = NS_PMU_V1_0_0}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="22" column="21" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a8af2b408a2c0eea914b1e8d8faa0a293" prot="public" static="yes" mutable="no">
        <type>am_util_pmu_config_t</type>
        <definition>am_util_pmu_config_t ns_am_pmu_config</definition>
        <argsstring></argsstring>
        <name>ns_am_pmu_config</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="25" column="29" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a16d8e9f2216560c4dbc24ab29a3b32b3" prot="public" static="yes" mutable="no">
        <type>bool</type>
        <definition>bool ns_pmu_initialized</definition>
        <argsstring></argsstring>
        <name>ns_pmu_initialized</name>
        <initializer>= false</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="27" column="13" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="27" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a03af545ad9a8b63ef4b4cfbe0fd7ac6a" prot="public" static="yes" mutable="no">
        <type>bool</type>
        <definition>bool ns_pmu_profiling</definition>
        <argsstring></argsstring>
        <name>ns_pmu_profiling</name>
        <initializer>= false</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="28" column="13" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a1cae2ec5b4e38ecbd9303d4cf044348e" prot="public" static="yes" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t ns_pmu_config_index[8]</definition>
        <argsstring>[8]</argsstring>
        <name>ns_pmu_config_index</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="29" column="17" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="29" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a4a2502367c49dc8a4e607443d02d8152" prot="public" static="no" mutable="no">
        <type>uint32_t</type>
        <definition>uint32_t g_ns_pmu_map_length</definition>
        <argsstring></argsstring>
        <name>g_ns_pmu_map_length</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="30" column="10" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="30" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="ns__pmu__utils_8c_1a11210bca8a0fdd73e0d89181ea2f9a44" prot="public" static="no" mutable="no">
        <type>const <ref refid="structns__pmu__map__t" kindref="compound">ns_pmu_map_t</ref></type>
        <definition>const ns_pmu_map_t ns_pmu_map[]</definition>
        <argsstring>[]</argsstring>
        <name>ns_pmu_map</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="32" column="20" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="32" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="ns__pmu__utils_8c_1a8cb25e715b67a775add04a6573f2b31b" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>static uint32_t cntr_enable</definition>
        <argsstring>(uint32_t ui32CountersEnable)</argsstring>
        <name>cntr_enable</name>
        <param>
          <type>uint32_t</type>
          <declname>ui32CountersEnable</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="172" column="1" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="172" bodyend="183"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1af29b0ab6fea8343b6ec52add3a3055f2" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>static uint32_t cntr_disable</definition>
        <argsstring>(uint32_t ui32CountersDisable)</argsstring>
        <name>cntr_disable</name>
        <param>
          <type>uint32_t</type>
          <declname>ui32CountersDisable</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="190" column="1" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="190" bodyend="199"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a2ba602dfd42222882583a84eee0fe669" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_pmu_reset_counters</definition>
        <argsstring>()</argsstring>
        <name>ns_pmu_reset_counters</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="201" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="201" bodyend="205"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a4607e7faabd9b7c570876ecb86252343" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int ns_pmu_get_map_index</definition>
        <argsstring>(uint32_t eventId)</argsstring>
        <name>ns_pmu_get_map_index</name>
        <param>
          <type>uint32_t</type>
          <declname>eventId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="208" column="5" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="208" bodyend="217"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a974f0cd90a294eb26abceea74ed9639c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t ns_pmu_get_map_length</definition>
        <argsstring>()</argsstring>
        <name>ns_pmu_get_map_length</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="219" column="10" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="219" bodyend="221"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a51e26d00385fd3ff49dd06b53ead740d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t ns_pmu_init</definition>
        <argsstring>(ns_pmu_config_t *cfg)</argsstring>
        <name>ns_pmu_init</name>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
<para>Initialize and start the PMU profiling syste. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>cfg</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>uint32_t status </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="230" column="10" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="230" bodyend="313"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1ad68eb6d770683d79a298720f19a9b1ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t ns_pmu_get_counters</definition>
        <argsstring>(ns_pmu_config_t *cfg)</argsstring>
        <name>ns_pmu_get_counters</name>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
<para>Get PMU counter values. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="320" column="10" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="320" bodyend="358"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1af53fa1c9a01ff4a8cb56bc494f0ac9bc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_delta_pmu</definition>
        <argsstring>(ns_pmu_counters_t *s, ns_pmu_counters_t *e, ns_pmu_counters_t *d)</argsstring>
        <name>ns_delta_pmu</name>
        <param>
          <type><ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref> *</type>
          <declname>s</declname>
        </param>
        <param>
          <type><ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref> *</type>
          <declname>e</declname>
        </param>
        <param>
          <type><ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref> *</type>
          <declname>d</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="360" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="360" bodyend="365"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a77d5c6ffa5108a62f45fe285b5268e4d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>uint32_t</type>
        <definition>uint32_t ns_pmu_print_counters</definition>
        <argsstring>(ns_pmu_config_t *cfg)</argsstring>
        <name>ns_pmu_print_counters</name>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="367" column="10" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="367" bodyend="381"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a9b971cbe77cb86fb902174e8f66ae5df" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_pmu_get_name</definition>
        <argsstring>(ns_pmu_config_t *cfg, uint32_t i, char *name)</argsstring>
        <name>ns_pmu_get_name</name>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>i</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>name</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="383" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="383" bodyend="399"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1af2f2485deade4b1383fbe4fc2568f482" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_pmu_reset_config</definition>
        <argsstring>(ns_pmu_config_t *cfg)</argsstring>
        <name>ns_pmu_reset_config</name>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="401" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="401" bodyend="407"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1ab532138577a31c0cf87d5fee5442037b" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_pmu_event_create</definition>
        <argsstring>(ns_pmu_event_t *event, uint32_t eventId, ns_pmu_event_counter_size_e counterSize)</argsstring>
        <name>ns_pmu_event_create</name>
        <param>
          <type><ref refid="structns__pmu__event" kindref="compound">ns_pmu_event_t</ref> *</type>
          <declname>event</declname>
        </param>
        <param>
          <type>uint32_t</type>
          <declname>eventId</declname>
        </param>
        <param>
          <type>ns_pmu_event_counter_size_e</type>
          <declname>counterSize</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="409" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="409" bodyend="414"/>
      </memberdef>
      <memberdef kind="function" id="ns__pmu__utils_8c_1a3538a63a6734d4f3f78a1c7427dd4381" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ns_pmu_characterize_function</definition>
        <argsstring>(invoke_fp func, ns_pmu_config_t *cfg)</argsstring>
        <name>ns_pmu_characterize_function</name>
        <param>
          <type>invoke_fp</type>
          <declname>func</declname>
        </param>
        <param>
          <type><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref> *</type>
          <declname>cfg</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" line="419" column="6" bodyfile="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c" bodystart="419" bodyend="441"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>A collection of functions to collect and analyze performance data. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Ambiq </para>
</simplesect>
<simplesect kind="version"><para>0.1 </para>
</simplesect>
<simplesect kind="date"><para>2024-08-15</para>
</simplesect>
<simplesect kind="copyright"><para>Copyright (c) 2024 </para>
</simplesect>
</para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;ns_core.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ns__pmu__map_8h" kindref="compound">ns_pmu_map.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="ns__pmu__utils_8h" kindref="compound">ns_pmu_utils.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ns_core_api_t<sp/>ns_pmu_V0_0_1<sp/>=<sp/>{.apiId<sp/>=<sp/>NS_PMU_API_ID,<sp/>.version<sp/>=<sp/>NS_PMU_V0_0_1};</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ns_core_api_t<sp/>ns_pmu_V1_0_0<sp/>=<sp/>{.apiId<sp/>=<sp/>NS_PMU_API_ID,<sp/>.version<sp/>=<sp/>NS_PMU_V1_0_0};</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ns_core_api_t<sp/>ns_pmu_oldest_supported_version<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/>.apiId<sp/>=<sp/>NS_PMU_API_ID,<sp/>.version<sp/>=<sp/>NS_PMU_V0_0_1};</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ns_core_api_t<sp/>ns_pmu_current_version<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/>.apiId<sp/>=<sp/>NS_PMU_API_ID,<sp/>.version<sp/>=<sp/>NS_PMU_V1_0_0};</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>am_util_pmu_config_t<sp/>ns_am_pmu_config;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">//<sp/>static<sp/>am_util_pmu_profiling_t<sp/>ns_am_pmu_profiling;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ns_pmu_initialized<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ns_pmu_profiling<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t<sp/>ns_pmu_config_index[8];</highlight></codeline>
<codeline lineno="30"><highlight class="normal">uint32_t<sp/>g_ns_pmu_map_length;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="structns__pmu__map__t" kindref="compound">ns_pmu_map_t</ref><sp/>ns_pmu_map[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0000,</highlight><highlight class="stringliteral">&quot;ARM_PMU_SW_INCR&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Software<sp/>update<sp/>to<sp/>the<sp/>PMU_SWINC<sp/>register,<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0001,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1I_CACHE_REFILL&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;L1<sp/>I-Cache<sp/>refill&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0003,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE_REFILL&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;L1<sp/>D-Cache<sp/>refill&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0004,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;L1<sp/>D-Cache<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0006,</highlight><highlight class="stringliteral">&quot;ARM_PMU_LD_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Memory-reading<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0007,</highlight><highlight class="stringliteral">&quot;ARM_PMU_ST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Memory-writing<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0008,</highlight><highlight class="stringliteral">&quot;ARM_PMU_INST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0009,</highlight><highlight class="stringliteral">&quot;ARM_PMU_EXC_TAKEN&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Exception<sp/>entry&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x000A,</highlight><highlight class="stringliteral">&quot;ARM_PMU_EXC_RETURN&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Exception<sp/>return<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>the<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x000C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_PC_WRITE_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Software<sp/>change<sp/>to<sp/>the<sp/>Program<sp/>Counter<sp/>(PC).<sp/>Instruction<sp/>is<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x000D,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BR_IMMED_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Immediate<sp/>branch<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x000E,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BR_RETURN_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Function<sp/>return<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>the<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x000F,</highlight><highlight class="stringliteral">&quot;ARM_PMU_UNALIGNED_LDST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Unaligned<sp/>memory<sp/>memory-reading<sp/>or<sp/>memory-writing<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0010,&quot;ARM_PMU_BR_MIS_PRED&quot;,&quot;Mispredicted<sp/>or<sp/>not<sp/>predicted<sp/>branch<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0011,</highlight><highlight class="stringliteral">&quot;ARM_PMU_CPU_CYCLES&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Cycle&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0012,&quot;ARM_PMU_BR_PRED&quot;,&quot;Predictable<sp/>branch<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0013,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MEM_ACCESS&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Data<sp/>memory<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0014,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1I_CACHE&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Level<sp/>1<sp/>instruction<sp/>cache<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0015,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE_WB&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Level<sp/>1<sp/>data<sp/>cache<sp/>write-back&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0016,&quot;ARM_PMU_L2D_CACHE&quot;,&quot;Level<sp/>2<sp/>data<sp/>cache<sp/>access&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0017,&quot;ARM_PMU_L2D_CACHE_REFILL&quot;,&quot;Level<sp/>2<sp/>data<sp/>cache<sp/>refill&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0018,&quot;ARM_PMU_L2D_CACHE_WB&quot;,&quot;Level<sp/>2<sp/>data<sp/>cache<sp/>write-back&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0019,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BUS_ACCESS&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Bus<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x001A,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MEMORY_ERROR&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Local<sp/>memory<sp/>error&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x001B,&quot;ARM_PMU_INST_SPEC&quot;,&quot;Instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x001D,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BUS_CYCLES&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Bus<sp/>cycles&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x001E,</highlight><highlight class="stringliteral">&quot;ARM_PMU_CHAIN&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;For<sp/>an<sp/>odd<sp/>numbered<sp/>counter,<sp/>increment<sp/>when<sp/>an<sp/>overflow<sp/>occurs<sp/>on<sp/>the<sp/>preceding<sp/>even-numbered<sp/>counter<sp/>on<sp/>the<sp/>same<sp/>PE&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x001F,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE_ALLOCATE&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Level<sp/>1<sp/>data<sp/>cache<sp/>allocation<sp/>without<sp/>refill&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0020,&quot;ARM_PMU_L2D_CACHE_ALLOCATE&quot;,&quot;Level<sp/>2<sp/>data<sp/>cache<sp/>allocation<sp/>without<sp/>refill&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0021,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BR_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Branch<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0022,</highlight><highlight class="stringliteral">&quot;ARM_PMU_BR_MIS_PRED_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Mispredicted<sp/>branch<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0023,</highlight><highlight class="stringliteral">&quot;ARM_PMU_STALL_FRONTEND&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;No<sp/>operation<sp/>issued<sp/>because<sp/>of<sp/>the<sp/>frontend&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0024,</highlight><highlight class="stringliteral">&quot;ARM_PMU_STALL_BACKEND&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;No<sp/>operation<sp/>issued<sp/>because<sp/>of<sp/>the<sp/>backend&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0027,&quot;ARM_PMU_L2I_CACHE&quot;,&quot;Level<sp/>2<sp/>instruction<sp/>cache<sp/>access&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0028,&quot;ARM_PMU_L2I_CACHE_REFILL&quot;,&quot;Level<sp/>2<sp/>instruction<sp/>cache<sp/>refill&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0029,&quot;ARM_PMU_L3D_CACHE_ALLOCATE&quot;,&quot;Level<sp/>3<sp/>data<sp/>cache<sp/>allocation<sp/>without<sp/>refill&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x002A,&quot;ARM_PMU_L3D_CACHE_REFILL&quot;,&quot;Level<sp/>3<sp/>data<sp/>cache<sp/>refill&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x002B,&quot;ARM_PMU_L3D_CACHE&quot;,&quot;Level<sp/>3<sp/>data<sp/>cache<sp/>access&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x002C,&quot;ARM_PMU_L3D_CACHE_WB&quot;,&quot;Level<sp/>3<sp/>data<sp/>cache<sp/>write-back&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0036,</highlight><highlight class="stringliteral">&quot;ARM_PMU_LL_CACHE_RD&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Last<sp/>level<sp/>data<sp/>cache<sp/>read&quot;</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">//<sp/>maybe</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0037,</highlight><highlight class="stringliteral">&quot;ARM_PMU_LL_CACHE_MISS_RD&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Last<sp/>level<sp/>data<sp/>cache<sp/>read<sp/>miss&quot;</highlight><highlight class="normal">},<sp/></highlight><highlight class="comment">//<sp/>maybe,<sp/>ll<sp/>cache<sp/>=<sp/>l1,<sp/>so<sp/>not<sp/>needed?</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0039,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE_MISS_RD&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Level<sp/>1<sp/>data<sp/>cache<sp/>read<sp/>miss&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x003A,&quot;ARM_PMU_OP_COMPLETE&quot;,&quot;Operation<sp/>retired&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x003B,&quot;ARM_PMU_OP_SPEC&quot;,&quot;Operation<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x003C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_STALL&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycle<sp/>for<sp/>instruction<sp/>or<sp/>operation<sp/>not<sp/>sent<sp/>for<sp/>execution&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x003D,&quot;ARM_PMU_STALL_OP_BACKEND&quot;,&quot;Stall<sp/>cycle<sp/>for<sp/>instruction<sp/>or<sp/>operation<sp/>not<sp/>sent<sp/>for<sp/>execution<sp/>due<sp/>to<sp/>pipeline<sp/>backend&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x003E,&quot;ARM_PMU_STALL_OP_FRONTEND&quot;,&quot;Stall<sp/>cycle<sp/>for<sp/>instruction<sp/>or<sp/>operation<sp/>not<sp/>sent<sp/>for<sp/>execution<sp/>due<sp/>to<sp/>pipeline<sp/>frontend&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x003F,&quot;ARM_PMU_STALL_OP&quot;,&quot;Instruction<sp/>or<sp/>operation<sp/>slots<sp/>not<sp/>occupied<sp/>each<sp/>cycle&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0040,</highlight><highlight class="stringliteral">&quot;ARM_PMU_L1D_CACHE_RD&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Level<sp/>1<sp/>data<sp/>cache<sp/>read&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0100,</highlight><highlight class="stringliteral">&quot;ARM_PMU_LE_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Loop<sp/>end<sp/>instruction<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0101,&quot;ARM_PMU_LE_SPEC&quot;,&quot;Loop<sp/>end<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0104,&quot;ARM_PMU_BF_RETIRED&quot;,&quot;Branch<sp/>future<sp/>instruction<sp/>architecturally<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0105,&quot;ARM_PMU_BF_SPEC&quot;,&quot;Branch<sp/>future<sp/>instruction<sp/>speculatively<sp/>executed<sp/>and<sp/>condition<sp/>code<sp/>check<sp/>pass&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0108,</highlight><highlight class="stringliteral">&quot;ARM_PMU_LE_CANCEL&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Loop<sp/>end<sp/>instruction<sp/>not<sp/>taken&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0109,&quot;ARM_PMU_BF_CANCEL&quot;,&quot;Branch<sp/>future<sp/>instruction<sp/>not<sp/>taken&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0114,</highlight><highlight class="stringliteral">&quot;ARM_PMU_SE_CALL_S&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Call<sp/>to<sp/>secure<sp/>function,<sp/>resulting<sp/>in<sp/>Security<sp/>state<sp/>change&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0115,</highlight><highlight class="stringliteral">&quot;ARM_PMU_SE_CALL_NS&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Call<sp/>to<sp/>non-secure<sp/>function,<sp/>resulting<sp/>in<sp/>Security<sp/>state<sp/>change&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0118,&quot;ARM_PMU_DWT_CMPMATCH0&quot;,&quot;DWT<sp/>comparator<sp/>0<sp/>match&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0119,&quot;ARM_PMU_DWT_CMPMATCH1&quot;,&quot;DWT<sp/>comparator<sp/>1<sp/>match&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x011A,&quot;ARM_PMU_DWT_CMPMATCH2&quot;,&quot;DWT<sp/>comparator<sp/>2<sp/>match&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x011B,&quot;ARM_PMU_DWT_CMPMATCH3&quot;,&quot;DWT<sp/>comparator<sp/>3<sp/>match&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0200,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_INST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0201,&quot;ARM_PMU_MVE_INST_SPEC&quot;,&quot;MVE<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0204,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_FP_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>floating-point<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0205,&quot;ARM_PMU_MVE_FP_SPEC&quot;,&quot;MVE<sp/>floating-point<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0208,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_FP_HP_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>half-precision<sp/>floating-point<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0209,&quot;ARM_PMU_MVE_FP_HP_SPEC&quot;,&quot;MVE<sp/>half-precision<sp/>floating-point<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x020C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_FP_SP_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>single-precision<sp/>floating-point<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x020D,&quot;ARM_PMU_MVE_FP_SP_SPEC&quot;,&quot;MVE<sp/>single-precision<sp/>floating-point<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0214,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_FP_MAC_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>floating-point<sp/>multiply<sp/>or<sp/>multiply-accumulate<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0215,&quot;ARM_PMU_MVE_FP_MAC_SPEC&quot;,&quot;MVE<sp/>floating-point<sp/>multiply<sp/>or<sp/>multiply-accumulate<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0224,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_INT_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>integer<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0225,&quot;ARM_PMU_MVE_INT_SPEC&quot;,&quot;MVE<sp/>integer<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0228,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_INT_MAC_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>multiply<sp/>or<sp/>multiply-accumulate<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0229,&quot;ARM_PMU_MVE_INT_MAC_SPEC&quot;,&quot;MVE<sp/>multiply<sp/>or<sp/>multiply-accumulate<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0238,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0239,&quot;ARM_PMU_MVE_LDST_SPEC&quot;,&quot;MVE<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x023C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LD_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>load<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x023D,&quot;ARM_PMU_MVE_LD_SPEC&quot;,&quot;MVE<sp/>load<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0240,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_ST_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0241,&quot;ARM_PMU_MVE_ST_SPEC&quot;,&quot;MVE<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0244,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_CONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>contiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0245,&quot;ARM_PMU_MVE_LDST_CONTIG_SPEC&quot;,&quot;MVE<sp/>contiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0248,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LD_CONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>contiguous<sp/>load<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0249,&quot;ARM_PMU_MVE_LD_CONTIG_SPEC&quot;,&quot;MVE<sp/>contiguous<sp/>load<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x024C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_ST_CONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>contiguous<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x024D,&quot;ARM_PMU_MVE_ST_CONTIG_SPEC&quot;,&quot;MVE<sp/>contiguous<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0250,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_NONCONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>non-contiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0251,&quot;ARM_PMU_MVE_LDST_NONCONTIG_SPEC&quot;,&quot;MVE<sp/>non-contiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0254,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LD_NONCONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>non-contiguous<sp/>load<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0255,&quot;ARM_PMU_MVE_LD_NONCONTIG_SPEC&quot;,&quot;MVE<sp/>non-contiguous<sp/>load<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0258,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_ST_NONCONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>non-contiguous<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0259,&quot;ARM_PMU_MVE_ST_NONCONTIG_SPEC&quot;,&quot;MVE<sp/>non-contiguous<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x025C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_MULTI_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>memory<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x025D,&quot;ARM_PMU_MVE_LDST_MULTI_SPEC&quot;,&quot;MVE<sp/>memory<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0260,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LD_MULTI_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>memory<sp/>load<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0261,&quot;ARM_PMU_MVE_LD_MULTI_SPEC&quot;,&quot;MVE<sp/>memory<sp/>load<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0261,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_ST_MULTI_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>memory<sp/>store<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0265,&quot;ARM_PMU_MVE_ST_MULTI_SPEC&quot;,&quot;MVE<sp/>memory<sp/>store<sp/>instruction<sp/>targeting<sp/>multiple<sp/>registers<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x028C,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_UNALIGNED_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>unaligned<sp/>memory<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x028D,&quot;ARM_PMU_MVE_LDST_UNALIGNED_SPEC&quot;,&quot;MVE<sp/>unaligned<sp/>memory<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0290,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LD_UNALIGNED_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>unaligned<sp/>load<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0291,&quot;ARM_PMU_MVE_LD_UNALIGNED_SPEC&quot;,&quot;MVE<sp/>unaligned<sp/>load<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0294,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_ST_UNALIGNED_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>unaligned<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0295,&quot;ARM_PMU_MVE_ST_UNALIGNED_SPEC&quot;,&quot;MVE<sp/>unaligned<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x0298,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_LDST_UNALIGNED_NONCONTIG_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>unaligned<sp/>noncontiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x0299,&quot;ARM_PMU_MVE_LDST_UNALIGNED_NONCONTIG_SPEC&quot;,&quot;MVE<sp/>unaligned<sp/>noncontiguous<sp/>load<sp/>or<sp/>store<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02A0,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_VREDUCE_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>vector<sp/>reduction<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x02A1,&quot;ARM_PMU_MVE_VREDUCE_SPEC&quot;,&quot;MVE<sp/>vector<sp/>reduction<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02A4,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_VREDUCE_FP_RETIRED<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>floating-point<sp/>vector<sp/>reduction<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x02A5,&quot;ARM_PMU_MVE_VREDUCE_FP_SPEC&quot;,&quot;MVE<sp/>floating-point<sp/>vector<sp/>reduction<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02A8,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_VREDUCE_INT_RETIRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;MVE<sp/>integer<sp/>vector<sp/>reduction<sp/>instruction<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x02A9,&quot;ARM_PMU_MVE_VREDUCE_INT_SPEC&quot;,&quot;MVE<sp/>integer<sp/>vector<sp/>reduction<sp/>instruction<sp/>speculatively<sp/>executed&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02B8,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_PRED&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Cycles<sp/>where<sp/>one<sp/>or<sp/>more<sp/>predicated<sp/>beats<sp/>architecturally<sp/>executed&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02CC,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>instruction&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02CD,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_RESOURCE&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>instruction<sp/>because<sp/>of<sp/>resource<sp/>conflicts&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02CE,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_RESOURCE_MEM<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>instruction<sp/>because<sp/>of<sp/>memory<sp/>resource<sp/>conflicts&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02CF,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_RESOURCE_FP&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>instruction<sp/>because<sp/>of<sp/>floating-point<sp/>resource<sp/>conflicts&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02D0,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_RESOURCE_INT<sp/>&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>instruction<sp/>because<sp/>of<sp/>integer<sp/>resource<sp/>conflicts&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02D3,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_BREAK&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>an<sp/>MVE<sp/>chain<sp/>break&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x02D4,</highlight><highlight class="stringliteral">&quot;ARM_PMU_MVE_STALL_DEPENDENCY&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Stall<sp/>cycles<sp/>caused<sp/>by<sp/>MVE<sp/>register<sp/>dependency&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x4007,</highlight><highlight class="stringliteral">&quot;ARM_PMU_ITCM_ACCESS&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Instruction<sp/>TCM<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x4008,</highlight><highlight class="stringliteral">&quot;ARM_PMU_DTCM_ACCESS&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;Data<sp/>TCM<sp/>access&quot;</highlight><highlight class="normal">},</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4010,&quot;ARM_PMU_TRCEXTOUT0&quot;,&quot;ETM<sp/>external<sp/>output<sp/>0&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4011,&quot;ARM_PMU_TRCEXTOUT1&quot;,&quot;ETM<sp/>external<sp/>output<sp/>1&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4012,&quot;ARM_PMU_TRCEXTOUT2&quot;,&quot;ETM<sp/>external<sp/>output<sp/>2&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4013,&quot;ARM_PMU_TRCEXTOUT3&quot;,&quot;ETM<sp/>external<sp/>output<sp/>3&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4018,&quot;ARM_PMU_CTI_TRIGOUT4&quot;,&quot;Cross-trigger<sp/>Interface<sp/>output<sp/>trigger<sp/>4&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x4019,&quot;ARM_PMU_CTI_TRIGOUT5&quot;,&quot;Cross-trigger<sp/>Interface<sp/>output<sp/>trigger<sp/>5&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x401A,&quot;ARM_PMU_CTI_TRIGOUT6&quot;,&quot;Cross-trigger<sp/>Interface<sp/>output<sp/>trigger<sp/>6&quot;},</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>{0x401B,&quot;ARM_PMU_CTI_TRIGOUT7&quot;,&quot;Cross-trigger<sp/>Interface<sp/>output<sp/>trigger<sp/>7&quot;}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal">};</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight><highlight class="comment">//*****************************************************************************</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Enable<sp/>Cycle<sp/>Counter<sp/>and<sp/>Event<sp/>Counters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight><highlight class="comment">//*****************************************************************************</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t</highlight></codeline>
<codeline lineno="172"><highlight class="normal">cntr_enable(uint32_t<sp/>ui32CountersEnable)</highlight></codeline>
<codeline lineno="173"><highlight class="normal">{</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ui32CountersEnable<sp/>&amp;<sp/>(~VALID_PMU_COUNTERS))</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AM_HAL_STATUS_OUT_OF_RANGE;</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>PMU<sp/>counters<sp/>increment<sp/>if<sp/>the<sp/>appropriate<sp/>bit<sp/>in<sp/>PMU_CNTENSET<sp/>register<sp/>is<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_CNTR_Enable(ui32CountersEnable);</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AM_HAL_STATUS_SUCCESS;</highlight></codeline>
<codeline lineno="183"><highlight class="normal">}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"></highlight><highlight class="comment">//*****************************************************************************</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Disable<sp/>Cycle<sp/>Counter<sp/>and<sp/>Event<sp/>Counters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight><highlight class="comment">//*****************************************************************************</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>uint32_t</highlight></codeline>
<codeline lineno="190"><highlight class="normal">cntr_disable(uint32_t<sp/>ui32CountersDisable)</highlight></codeline>
<codeline lineno="191"><highlight class="normal">{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ui32CountersDisable<sp/>&amp;<sp/>(~VALID_PMU_COUNTERS))</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AM_HAL_STATUS_OUT_OF_RANGE;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_CNTR_Disable(ui32CountersDisable);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>AM_HAL_STATUS_SUCCESS;</highlight></codeline>
<codeline lineno="199"><highlight class="normal">}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_pmu_reset_counters()<sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_CYCCNT_Reset();</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_EVCNTR_ALL_Reset();</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_Set_CNTR_OVS(VALID_PMU_OVSCLRS);</highlight></codeline>
<codeline lineno="205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ns_pmu_get_map_index(uint32_t<sp/>eventId)<sp/>{</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>iterate<sp/>over<sp/>the<sp/>length<sp/>of<sp/>ns_pmu_map<sp/>until<sp/>we<sp/>find<sp/>the<sp/>eventId</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i&lt;</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ns_pmu_map);<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Checking<sp/>%d<sp/>for<sp/>0x%x<sp/>match\n&quot;,<sp/>i,<sp/>eventId);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ns_pmu_map[i].eventId<sp/>==<sp/>eventId)<sp/>{</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="217"><highlight class="normal">}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal">uint32_t<sp/>ns_pmu_get_map_length()<sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ns_pmu_map);</highlight></codeline>
<codeline lineno="221"><highlight class="normal">}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal">uint32_t<sp/><ref refid="ns__pmu__utils_8c_1a51e26d00385fd3ff49dd06b53ead740d" kindref="member">ns_pmu_init</ref>(<ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg)<sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8_t<sp/>totalCounters<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>counterMask<sp/>=<sp/>PMU_CNTENSET_CCNTR_ENABLE_Msk;</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>NS_DISABLE_API_VALIDATION</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>handle\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_HANDLE;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="239"><highlight class="normal"></highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>API</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ns_core_check_api(cfg-&gt;api,<sp/>&amp;ns_pmu_oldest_supported_version,<sp/>&amp;ns_pmu_current_version)<sp/>!=<sp/>NS_STATUS_SUCCESS)<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>API<sp/>version\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_VERSION;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="245"><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Check<sp/>that<sp/>the<sp/>total<sp/>number<sp/>of<sp/>counters<sp/>fits<sp/>in<sp/>the<sp/>PMU</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[i].enabled)<sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[i].counterSize<sp/>==<sp/>NS_PMU_EVENT_COUNTER_SIZE_32)<sp/>{</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>totalCounters<sp/>+=<sp/>2;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>totalCounters++;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(totalCounters<sp/>&gt;<sp/>8)<sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Too<sp/>many<sp/>counters<sp/>enabled<sp/>tc<sp/>is<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>totalCounters);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_CONFIG;</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/>g_ns_pmu_map_length<sp/>=<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ns_pmu_map);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Init<sp/>counter<sp/>state<sp/>and<sp/>ns_am_pmu_config</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1a02a367a1040708414d17a98362816935" kindref="member">counterValue</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[i].enabled)<sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].mapIndex<sp/>=<sp/>ns_pmu_get_map_index(cfg-&gt;events[i].eventId);</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;counter[i].mapIndex<sp/>==<sp/>-1)<sp/>{</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>event<sp/>id<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>cfg-&gt;events[i].eventId);</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_CONFIG;</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;%d.<sp/>Adding<sp/>eventid<sp/>0x%d<sp/>Counter<sp/>%s<sp/>(%s)<sp/>mapIndex:<sp/>%d\n&quot;,<sp/>i,<sp/>cfg-&gt;events[i].eventId,<sp/>ns_pmu_map[cfg-&gt;counter[i].mapIndex].regname,<sp/>ns_pmu_map[cfg-&gt;counter[i].mapIndex].description,<sp/>cfg-&gt;counter[i].mapIndex);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32EventType[i]<sp/>=<sp/>0xffff;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32Counters<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Create<sp/>a<sp/>am_util_pmu_config_t<sp/>to<sp/>pass<sp/>to<sp/>the<sp/>am_util_pmu_init<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Pack<sp/>the<sp/>32<sp/>bit<sp/>counters<sp/>to<sp/>the<sp/>front<sp/>of<sp/>the<sp/>array</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>totalCounters<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cfg-&gt;events[i].enabled)<sp/>&amp;&amp;<sp/>(!cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref>)<sp/>&amp;&amp;<sp/>(cfg-&gt;events[i].counterSize<sp/>==<sp/>NS_PMU_EVENT_COUNTER_SIZE_32))<sp/>{</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counterMask<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>totalCounters);</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_config_index[totalCounters]<sp/>=<sp/>i;<sp/></highlight><highlight class="comment">//<sp/>map<sp/>the<sp/>pmu<sp/>counter<sp/>to<sp/>the<sp/>cf<sp/>counter<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32EventType[totalCounters++]<sp/>=<sp/>cfg-&gt;events[i].eventId;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counterMask<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>totalCounters);</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32EventType[totalCounters++]<sp/>=<sp/>ARM_PMU_CHAIN;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;%d.<sp/>Added<sp/>32b<sp/>PMU<sp/>event<sp/>index<sp/>%d,<sp/>eventId<sp/>0x%x\n&quot;,<sp/>i,<sp/>totalCounters,<sp/>cfg-&gt;events[i].eventId);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>add<sp/>in<sp/>the<sp/>16<sp/>bit<sp/>counters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>((cfg-&gt;events[i].enabled)<sp/>&amp;&amp;<sp/>(!cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref>)<sp/>&amp;&amp;<sp/>(cfg-&gt;events[i].counterSize<sp/>==<sp/>NS_PMU_EVENT_COUNTER_SIZE_16))<sp/>{</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>counterMask<sp/>|=<sp/>(1<sp/>&lt;&lt;<sp/>totalCounters);</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>cfg-&gt;counter[i].pmuIndex<sp/>=<sp/>totalCounters;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_config_index[totalCounters]<sp/>=<sp/>i;<sp/></highlight><highlight class="comment">//<sp/>map<sp/>the<sp/>pmu<sp/>counter<sp/>to<sp/>the<sp/>cf<sp/>counter<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32EventType[totalCounters++]<sp/>=<sp/>cfg-&gt;events[i].eventId;</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref><sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;%d.<sp/>Added<sp/>16b<sp/>PMU<sp/>event<sp/>index<sp/>%d,<sp/>eventId<sp/>0x%x\n&quot;,<sp/>i,<sp/>totalCounters,<sp/>cfg-&gt;events[i].eventId);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>ns_am_pmu_config.ui32Counters<sp/>=<sp/>counterMask;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/>am_util_pmu_enable();</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/>am_util_pmu_init(&amp;ns_am_pmu_config);</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/>ns_pmu_initialized<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/>ns_pmu_profiling<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_SUCCESS;</highlight></codeline>
<codeline lineno="313"><highlight class="normal">}</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal">uint32_t<sp/><ref refid="ns__pmu__utils_8c_1ad68eb6d770683d79a298720f19a9b1ba" kindref="member">ns_pmu_get_counters</ref>(<ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg)<sp/>{</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Adapted<sp/>from<sp/>am_util_pmu_get_profiling</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/>uint32_t<sp/>value;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"></highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_HANDLE;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!ns_pmu_initialized)<sp/>{</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INIT_FAILED;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>cntr_disable(ns_am_pmu_config.ui32Counters);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"></highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Update<sp/>cfg-&gt;counter<sp/>for<sp/>each<sp/>enabled<sp/>counter</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pmu_index<sp/>=<sp/>0;<sp/>pmu_index<sp/>&lt;<sp/>8;<sp/>pmu_index++)<sp/>{</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ns_am_pmu_config.ui32Counters<sp/>&amp;<sp/>(1<sp/>&lt;&lt;<sp/>pmu_index))<sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Handle<sp/>chain<sp/>counters</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>cfgIndex<sp/>=<sp/>ns_pmu_config_index[pmu_index];</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[cfgIndex].counterSize<sp/>==<sp/>NS_PMU_EVENT_COUNTER_SIZE_32)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>value<sp/>=<sp/>ARM_PMU_Get_EVCNTR(pmu_index);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>baseValue<sp/>=<sp/>ARM_PMU_Get_EVCNTR(pmu_index);</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>chainValue<sp/>=<sp/>ARM_PMU_Get_EVCNTR(pmu_index<sp/>+<sp/>1);</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[cfgIndex].<ref refid="structns__pmu__counter_1a02a367a1040708414d17a98362816935" kindref="member">counterValue</ref><sp/>=<sp/>baseValue<sp/>+<sp/>(chainValue<sp/>&lt;&lt;<sp/>16);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;%d.<sp/>Reading<sp/>32<sp/>bit<sp/>counter<sp/>%s<sp/>(%s):<sp/>0x%x\n&quot;,<sp/>pmu_index,<sp/>ns_pmu_map[cfg-&gt;counter[cfgIndex].mapIndex].regname,<sp/>ns_pmu_map[cfg-&gt;counter[cfgIndex].mapIndex].description,<sp/>cfg-&gt;counter[cfgIndex].counterValue);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pmu_index++;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>ARM_PMU_Get_EVCNTR(pmu_index);</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[cfgIndex].<ref refid="structns__pmu__counter_1a02a367a1040708414d17a98362816935" kindref="member">counterValue</ref><sp/>=<sp/>value;</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="351"><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_CYCCNT_Reset();</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_EVCNTR_ALL_Reset();</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/>ARM_PMU_Set_CNTR_OVS(VALID_PMU_OVSCLRS);</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>cntr_enable(ns_am_pmu_config.ui32Counters);</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_SUCCESS;</highlight></codeline>
<codeline lineno="358"><highlight class="normal">}</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_delta_pmu(<ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref><sp/>*s,<sp/><ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref><sp/>*e,<sp/><ref refid="structns__pmu__counters__t" kindref="compound">ns_pmu_counters_t</ref><sp/>*d)<sp/>{</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;%d.<sp/>s<sp/>%d,<sp/>e<sp/>%d,<sp/>Delta<sp/>%d\n&quot;,<sp/>i,<sp/>s-&gt;counterValue[i],<sp/>e-&gt;counterValue[i],<sp/>e-&gt;counterValue[i]<sp/>-<sp/>s-&gt;counterValue[i]);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>d-&gt;counterValue[i]<sp/>=<sp/>e-&gt;counterValue[i]<sp/>-<sp/>s-&gt;counterValue[i];</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="365"><highlight class="normal">}</highlight></codeline>
<codeline lineno="366"><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal">uint32_t<sp/>ns_pmu_print_counters(<ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg)<sp/>{</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_INVALID_HANDLE;</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="371"><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[i].enabled)<sp/>{</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>mapIndex<sp/>=<sp/>cfg-&gt;counter[i].mapIndex;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Counter<sp/>%s<sp/>(%s):<sp/>0x%x\n&quot;,<sp/>ns_pmu_map[mapIndex].regname,<sp/>ns_pmu_map[mapIndex].description,<sp/>cfg-&gt;counter[i].counterValue);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;%d,<sp/>\t%s,<sp/>\t<sp/>\&quot;%s\&quot;\n&quot;</highlight><highlight class="normal">,<sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1a02a367a1040708414d17a98362816935" kindref="member">counterValue</ref>,<sp/>ns_pmu_map[mapIndex].regname,<sp/>ns_pmu_map[mapIndex].description);</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NS_STATUS_SUCCESS;</highlight></codeline>
<codeline lineno="381"><highlight class="normal">}</highlight></codeline>
<codeline lineno="382"><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_pmu_get_name(<ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg,<sp/>uint32_t<sp/>i,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)<sp/>{</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Invalid<sp/>handle\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(name,<sp/></highlight><highlight class="stringliteral">&quot;Invalid<sp/>handle&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cfg-&gt;events[i].enabled)<sp/>{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint32_t<sp/>mapIndex<sp/>=<sp/>cfg-&gt;counter[i].mapIndex;</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;map<sp/>index<sp/>%d\n&quot;,<sp/>mapIndex);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;<sp/>Name<sp/>%s\n&quot;,<sp/>ns_pmu_map[mapIndex].regname);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Counter<sp/>%s<sp/>(%s):<sp/>0x%x\n&quot;,<sp/>ns_pmu_map[mapIndex].regname,<sp/>ns_pmu_map[mapIndex].description,<sp/>cfg-&gt;counter[i].counterValue);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(name,<sp/>ns_pmu_map[mapIndex].regname);</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_lp_printf(</highlight><highlight class="stringliteral">&quot;Not<sp/>enabled\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>strcpy(name,<sp/></highlight><highlight class="stringliteral">&quot;Not<sp/>enabled&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="399"><highlight class="normal">}</highlight></codeline>
<codeline lineno="400"><highlight class="normal"></highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_pmu_reset_config(<ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg)<sp/>{</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/>i<sp/>&lt;<sp/>8;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;events[i].enabled<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1a02a367a1040708414d17a98362816935" kindref="member">counterValue</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cfg-&gt;counter[i].<ref refid="structns__pmu__counter_1ab043c9e08f617f3c822803b4de4026bf" kindref="member">added</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="407"><highlight class="normal">}</highlight></codeline>
<codeline lineno="408"><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_pmu_event_create(<ref refid="structns__pmu__event" kindref="compound">ns_pmu_event_t</ref><sp/>*event,<sp/>uint32_t<sp/>eventId,<sp/>ns_pmu_event_counter_size_e<sp/>counterSize)<sp/>{</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Creating<sp/>event<sp/>0x%x\n&quot;,<sp/>eventId);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">-&gt;enabled<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">-&gt;eventId<sp/>=<sp/>eventId;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">event</highlight><highlight class="normal">-&gt;counterSize<sp/>=<sp/>counterSize;</highlight></codeline>
<codeline lineno="414"><highlight class="normal">}</highlight></codeline>
<codeline lineno="415"><highlight class="normal"></highlight></codeline>
<codeline lineno="416"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Characterize<sp/>a<sp/>function<sp/>by<sp/>repeatedly<sp/>calling<sp/>it<sp/>and<sp/>checking<sp/>different<sp/>PMU<sp/>counters<sp/>every<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight><highlight class="comment">//<sp/>int<sp/>map_index<sp/>=<sp/>0;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>ns_pmu_characterize_function(invoke_fp<sp/>func,<sp/><ref refid="structns__pmu__config" kindref="compound">ns_pmu_config_t</ref><sp/>*cfg)<sp/>{</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>am_util_pmu_enable();</highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Walk<sp/>through<sp/>every<sp/>event<sp/>counter<sp/>in<sp/>PMU<sp/>map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(uint32_t<sp/>map_index<sp/>=<sp/>0;<sp/>map_index<sp/>&lt;<sp/>NS_PMU_MAP_SIZE;<sp/>map_index++)<sp/>{</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>We<sp/>can<sp/>do<sp/>4<sp/>32b<sp/>counters<sp/>at<sp/>a<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Characterizing<sp/>event<sp/>%d<sp/>%d\n&quot;,<sp/>map_index,<sp/>NS_PMU_MAP_SIZE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_event_create(&amp;(cfg-&gt;events[0]),<sp/>ns_pmu_map[map_index].eventId,<sp/>NS_PMU_EVENT_COUNTER_SIZE_32);</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Characterizing<sp/>event<sp/>%d<sp/>%d<sp/>%d\n&quot;,<sp/>map_index,<sp/>map_index%71,<sp/>NS_PMU_MAP_SIZE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_event_create(&amp;(cfg-&gt;events[1]),<sp/>ns_pmu_map[(++map_index)%NS_PMU_MAP_SIZE].eventId,<sp/>NS_PMU_EVENT_COUNTER_SIZE_32);</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Characterizing<sp/>event<sp/>%d<sp/>%d\n&quot;,<sp/>map_index,<sp/>NS_PMU_MAP_SIZE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_event_create(&amp;(cfg-&gt;events[2]),<sp/>ns_pmu_map[(++map_index)%NS_PMU_MAP_SIZE].eventId,<sp/>NS_PMU_EVENT_COUNTER_SIZE_32);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Characterizing<sp/>event<sp/>%d<sp/>%d\n&quot;,<sp/>map_index,<sp/>NS_PMU_MAP_SIZE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_event_create(&amp;(cfg-&gt;events[3]),<sp/>ns_pmu_map[(++map_index)%NS_PMU_MAP_SIZE].eventId,<sp/>NS_PMU_EVENT_COUNTER_SIZE_32);</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ns_lp_printf(&quot;Characterizing<sp/>event<sp/>%d<sp/>%d\n&quot;,<sp/>map_index,<sp/>NS_PMU_MAP_SIZE);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="434"><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ns__pmu__utils_8c_1a51e26d00385fd3ff49dd06b53ead740d" kindref="member">ns_pmu_init</ref>(cfg);</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Call<sp/>the<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>func();</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="ns__pmu__utils_8c_1ad68eb6d770683d79a298720f19a9b1ba" kindref="member">ns_pmu_get_counters</ref>(cfg);</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ns_pmu_print_counters(cfg);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="441"><highlight class="normal">}</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="neuralSPOT/neuralspot/ns-utils/src/apollo5/ns_pmu_utils.c"/>
  </compounddef>
</doxygen>
