<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Examples Guide: IOM FIFO Controller Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Examples Guide<span id="projectnumber">&#160;SDK 5.2.alpha.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">IOM FIFO Controller Example<div class="ingroups"><a class="el" href="group__interface__examples.html">Interface Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This example implements a sophisticated data exchange protocol between two EVBs using IOM-IOS FIFO communication. The controller manages data flow with command-based control, implementing a state machine for synchronized data transfer with simulated sensor data handling on the device side.</p>
<h1><a class="anchor" id="ios_fifo_controller_features"></a>
Key Features</h1>
<ol type="1">
<li><b>Command</b> <b>Protocol:</b> Implements one-byte command protocol for controlling data accumulation and transfer operations</li>
<li><b>State</b> <b>Machine:</b> Manages synchronized data exchange with comprehensive state tracking and flow control</li>
<li><b>Sensor</b> <b>Data</b> <b>Handling:</b> Supports simulated sensor data accumulation with CTimer-based event generation</li>
</ol>
<h1><a class="anchor" id="ios_fifo_controller_functionality"></a>
Functionality</h1>
<p>The application provides:</p><ul>
<li>Command-based control for Start/Stop operations</li>
<li>Block data transfer acknowledgment handling</li>
<li>Real-time status monitoring via ITM SWO</li>
<li>Synchronized data exchange with device</li>
</ul>
<h1><a class="anchor" id="ios_fifo_controller_usage"></a>
Usage</h1>
<ol type="1">
<li>Configure two EVBs with controller and device firmware</li>
<li>Connect EVBs using appropriate SPI/I2C connections</li>
<li>Monitor operation via ITM SWO at 1MHz</li>
<li>Observe data exchange and state transitions</li>
</ol>
<p>Additional Information: Requires a companion device running ios_fifo example. The device implements sensor simulation with CTimer events.</p>
<p>The IOS interrupts the controller to indicate data availability. The controller then reads the available data (as indicated by FIFOCTR) by READing using IOS FIFO (at address 0x7F). The IOS keeps accumulating any new data coming in the background.</p>
<p>Controller sends an acknowledgement to IOS once it has finished reading a block of data initiated by IOS (partitally or complete). IOS interrupts the controller again if and when it has more data for the controller to read, and the cycle repeats - till controller indicates that it is no longer interested in receiving data by sending STOP command.</p>
<p>Additional Information: In order to run this example, a device (e.g. a second EVB) must be set up to run the companion example, ios_fifo. The two EVBs can be connected using fly leads between the two EVBs as follows.</p>
<pre class="fragment">//! The pin jumpers should be connected as follows, as defined in bsp_pins.src:
//!
//! Apollo510 EVB
//!
//! SPI:
//!     CONTROLLER (ios_fifo_controller)             DEVICE (ios_fifo)
//!     --------------------                    ----------------
//!     GPIO[47] IOM5 SPI SCK                   GPIO[0]  IOS IOSFD_SCK
//!     GPIO[48] IOM5 SPI MOSI                  GPIO[1]  IOS IOSFD_MOSI
//!     GPIO[49] IOM5 SPI MISO                  GPIO[2]  IOS IOSFD_MISO
//!     GPIO[60] IOM5 SPI nCE                   GPIO[3]  IOS IOSFD_CE
//!     GPIO[4]  REQ_ACK (device to controller) GPIO[4]  IOS IOSFD_INT
//!     GND                                     GND
//!
//! Pin 0, 1, 2, 3, 4, 47, 48, 49 : J8
//! Pin 60                        : J9
//!
//! Apollo510B EVB
//!
//! SPI:
//!     CONTROLLER (ios_fifo_controller)         DEVICE (ios_fifo)
//!     --------------------                     ----------------
//!     GPIO[22]  IOM7 SPI SCK                   GPIO[0]  IOS IOSFD_SCK
//!     GPIO[23]  IOM7 SPI MOSI                  GPIO[1]  IOS IOSFD_MOSI
//!     GPIO[24]  IOM7 SPI MISO                  GPIO[2]  IOS IOSFD_MISO
//!     GPIO[5]   IOM7 SPI nCE                   GPIO[3]  IOS IOSFD_CE
//!     GPIO[4]   REQ_ACK (device to controller) GPIO[4]  IOS IOSFD_INT
//!     GND                                      GND
//!
//! Pin 0, 1, 2, 3, 4, 5, 22, 23, 24   : J8
//!
//! Apollo330mP EVB
//!
//! SPI:
//!     CONTROLLER (ios_fifo_controller)         DEVICE (ios_fifo)
//!     --------------------                     ----------------
//!     GPIO[5]   IOM0 SPI SCK                   GPIO[0]  IOS IOSFD_SCK
//!     GPIO[6]   IOM0 SPI MOSI                  GPIO[1]  IOS IOSFD_MOSI
//!     GPIO[7]   IOM0 SPI MISO                  GPIO[2]  IOS IOSFD_MISO
//!     GPIO[17]  IOM0 SPI nCE                   GPIO[3]  IOS IOSFD_CE
//!     GPIO[4]   REQ_ACK (device to controller) GPIO[4]  IOS IOSFD_INT
//!     GND                                      GND
//!
//! Pin 0, 1, 2, 3, 4   : J8
//! Pin 5, 6, 7, 17     : 13
//! </pre> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0592dba56693fad79136250c11e5a7fe" id="r_ga0592dba56693fad79136250c11e5a7fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0592dba56693fad79136250c11e5a7fe">MAX_SIZE</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:ga0592dba56693fad79136250c11e5a7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bff86557c6654ff01c62b25cc15498a" id="r_ga3bff86557c6654ff01c62b25cc15498a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3bff86557c6654ff01c62b25cc15498a">IOSOFFSET_WRITE_INTEN</a>&#160;&#160;&#160;(AM_HAL_IOS_IOINTEN_OFFSET | (USE_SPI &lt;&lt; 7))</td></tr>
<tr class="separator:ga3bff86557c6654ff01c62b25cc15498a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6259ff748a8f8e6f2e7407ff6a16e7a" id="r_gaf6259ff748a8f8e6f2e7407ff6a16e7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6259ff748a8f8e6f2e7407ff6a16e7a">IOSOFFSET_WRITE_INTCLR</a>&#160;&#160;&#160;(AM_HAL_IOS_IOINTCLR_OFFSET | (USE_SPI &lt;&lt; 7))</td></tr>
<tr class="separator:gaf6259ff748a8f8e6f2e7407ff6a16e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa71c1064761c0ff7f211e441134eea6b" id="r_gaa71c1064761c0ff7f211e441134eea6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa71c1064761c0ff7f211e441134eea6b">IOSOFFSET_WRITE_CMD</a>&#160;&#160;&#160;(0x0 | (USE_SPI &lt;&lt; 7))</td></tr>
<tr class="separator:gaa71c1064761c0ff7f211e441134eea6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9768c1f53a3d2202d6a15474f1d08118" id="r_ga9768c1f53a3d2202d6a15474f1d08118"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9768c1f53a3d2202d6a15474f1d08118">IOSOFFSET_READ_INTSTAT</a>&#160;&#160;&#160;AM_HAL_IOS_IOINT_OFFSET</td></tr>
<tr class="separator:ga9768c1f53a3d2202d6a15474f1d08118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbd8247dc5e76843360144e5f39623a9" id="r_gafbd8247dc5e76843360144e5f39623a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafbd8247dc5e76843360144e5f39623a9">IOSOFFSET_READ_FIFO</a>&#160;&#160;&#160;AM_HAL_IOS_FIFO_OFFSET</td></tr>
<tr class="separator:gafbd8247dc5e76843360144e5f39623a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5091d9ae166e7533a2c2007aef3d00" id="r_gaee5091d9ae166e7533a2c2007aef3d00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee5091d9ae166e7533a2c2007aef3d00">IOSOFFSET_READ_FIFOCTR</a>&#160;&#160;&#160;AM_HAL_IOS_FIFOCTRLO_OFFSET</td></tr>
<tr class="separator:gaee5091d9ae166e7533a2c2007aef3d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6b4de06524c8b8500298d1d635cfd40" id="r_gad6b4de06524c8b8500298d1d635cfd40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:gad6b4de06524c8b8500298d1d635cfd40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81f25d9ad001edc06df119ee4874c8b8" id="r_ga81f25d9ad001edc06df119ee4874c8b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga81f25d9ad001edc06df119ee4874c8b8">MAX_SPI_SIZE</a>&#160;&#160;&#160;1023</td></tr>
<tr class="separator:ga81f25d9ad001edc06df119ee4874c8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac17e1d7ce4dbc5291937a3bee6e0c96a" id="r_gac17e1d7ce4dbc5291937a3bee6e0c96a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac17e1d7ce4dbc5291937a3bee6e0c96a">MAX_I2C_SIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:gac17e1d7ce4dbc5291937a3bee6e0c96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8bfddc39e6c95fc5b6a27d753ca8023a" id="r_ga8bfddc39e6c95fc5b6a27d753ca8023a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8bfddc39e6c95fc5b6a27d753ca8023a">clear_rx_buf</a> (void)</td></tr>
<tr class="separator:ga8bfddc39e6c95fc5b6a27d753ca8023a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8db66fef6844b8d81920fc4579086000" id="r_ga8db66fef6844b8d81920fc4579086000"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8db66fef6844b8d81920fc4579086000">validate_rx_buf</a> (uint32_t rxSize)</td></tr>
<tr class="separator:ga8db66fef6844b8d81920fc4579086000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a20065ba26cee2db2558577a6c4fa7b" id="r_ga8a20065ba26cee2db2558577a6c4fa7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8a20065ba26cee2db2558577a6c4fa7b">cntlr_int_handler</a> (void)</td></tr>
<tr class="separator:ga8a20065ba26cee2db2558577a6c4fa7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4b1dc828c04d79f060b611b1984b311" id="r_gab4b1dc828c04d79f060b611b1984b311"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab4b1dc828c04d79f060b611b1984b311">am_gpio0_001f_isr</a> (void)</td></tr>
<tr class="separator:gab4b1dc828c04d79f060b611b1984b311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c91434fc829a3b0af45c89aec19b59a" id="r_ga4c91434fc829a3b0af45c89aec19b59a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4c91434fc829a3b0af45c89aec19b59a">iom_device_read</a> (uint32_t offset, uint32_t *pBuf, uint32_t size)</td></tr>
<tr class="separator:ga4c91434fc829a3b0af45c89aec19b59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5b20041885bfcf38d054adacd5a3cde7" id="r_ga5b20041885bfcf38d054adacd5a3cde7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5b20041885bfcf38d054adacd5a3cde7">iom_device_write</a> (uint32_t offset, uint32_t *pBuf, uint32_t size)</td></tr>
<tr class="separator:ga5b20041885bfcf38d054adacd5a3cde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8a9a0449ae2bcf4911e6c364da9302a" id="r_gab8a9a0449ae2bcf4911e6c364da9302a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab8a9a0449ae2bcf4911e6c364da9302a">update_progress</a> (uint32_t ui32NumBytes)</td></tr>
<tr class="separator:gab8a9a0449ae2bcf4911e6c364da9302a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga8968aad7d25777abda5b5ba1964516de" id="r_ga8968aad7d25777abda5b5ba1964516de"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8968aad7d25777abda5b5ba1964516de">g_pui8RcvBuf</a> [<a class="el" href="group__ios__burst__controller.html#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>]</td></tr>
<tr class="separator:ga8968aad7d25777abda5b5ba1964516de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf49278b66a54bea9634dab79a1af2cb" id="r_gaaf49278b66a54bea9634dab79a1af2cb"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf49278b66a54bea9634dab79a1af2cb">g_startIdx</a> = 0</td></tr>
<tr class="separator:gaaf49278b66a54bea9634dab79a1af2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49eabd8baee8527a4ca82aaf24a59fe8" id="r_ga49eabd8baee8527a4ca82aaf24a59fe8"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga49eabd8baee8527a4ca82aaf24a59fe8">bIosInt</a> = false</td></tr>
<tr class="separator:ga49eabd8baee8527a4ca82aaf24a59fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab69b4ea2bee14ab0603f4a9dd17575c" id="r_gaab69b4ea2bee14ab0603f4a9dd17575c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaab69b4ea2bee14ab0603f4a9dd17575c">g_IOMHandle</a></td></tr>
<tr class="separator:gaab69b4ea2bee14ab0603f4a9dd17575c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ad0803f284b08a98510dc2a2e093382" id="r_ga2ad0803f284b08a98510dc2a2e093382"><td class="memItemLeft" align="right" valign="top">const am_hal_gpio_pincfg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2ad0803f284b08a98510dc2a2e093382">g_AM_BSP_GPIO_HANDSHAKE</a></td></tr>
<tr class="separator:ga2ad0803f284b08a98510dc2a2e093382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb7ce9ca283cdf0b90ccb7ffdab24324" id="r_gabb7ce9ca283cdf0b90ccb7ffdab24324"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabb7ce9ca283cdf0b90ccb7ffdab24324">g_ui32LastUpdate</a> = 0</td></tr>
<tr class="separator:gabb7ce9ca283cdf0b90ccb7ffdab24324"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gad6b4de06524c8b8500298d1d635cfd40" name="gad6b4de06524c8b8500298d1d635cfd40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6b4de06524c8b8500298d1d635cfd40">&#9670;&#160;</a></span>AM_TEST_RCV_BUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_TEST_RCV_BUF_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafbd8247dc5e76843360144e5f39623a9" name="gafbd8247dc5e76843360144e5f39623a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbd8247dc5e76843360144e5f39623a9">&#9670;&#160;</a></span>IOSOFFSET_READ_FIFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_FIFO&#160;&#160;&#160;AM_HAL_IOS_FIFO_OFFSET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaee5091d9ae166e7533a2c2007aef3d00" name="gaee5091d9ae166e7533a2c2007aef3d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee5091d9ae166e7533a2c2007aef3d00">&#9670;&#160;</a></span>IOSOFFSET_READ_FIFOCTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_FIFOCTR&#160;&#160;&#160;AM_HAL_IOS_FIFOCTRLO_OFFSET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9768c1f53a3d2202d6a15474f1d08118" name="ga9768c1f53a3d2202d6a15474f1d08118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9768c1f53a3d2202d6a15474f1d08118">&#9670;&#160;</a></span>IOSOFFSET_READ_INTSTAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_INTSTAT&#160;&#160;&#160;AM_HAL_IOS_IOINT_OFFSET</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaa71c1064761c0ff7f211e441134eea6b" name="gaa71c1064761c0ff7f211e441134eea6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa71c1064761c0ff7f211e441134eea6b">&#9670;&#160;</a></span>IOSOFFSET_WRITE_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_CMD&#160;&#160;&#160;(0x0 | (USE_SPI &lt;&lt; 7))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf6259ff748a8f8e6f2e7407ff6a16e7a" name="gaf6259ff748a8f8e6f2e7407ff6a16e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6259ff748a8f8e6f2e7407ff6a16e7a">&#9670;&#160;</a></span>IOSOFFSET_WRITE_INTCLR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_INTCLR&#160;&#160;&#160;(AM_HAL_IOS_IOINTCLR_OFFSET | (USE_SPI &lt;&lt; 7))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3bff86557c6654ff01c62b25cc15498a" name="ga3bff86557c6654ff01c62b25cc15498a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bff86557c6654ff01c62b25cc15498a">&#9670;&#160;</a></span>IOSOFFSET_WRITE_INTEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_INTEN&#160;&#160;&#160;(AM_HAL_IOS_IOINTEN_OFFSET | (USE_SPI &lt;&lt; 7))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac17e1d7ce4dbc5291937a3bee6e0c96a" name="gac17e1d7ce4dbc5291937a3bee6e0c96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac17e1d7ce4dbc5291937a3bee6e0c96a">&#9670;&#160;</a></span>MAX_I2C_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_I2C_SIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0592dba56693fad79136250c11e5a7fe" name="ga0592dba56693fad79136250c11e5a7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0592dba56693fad79136250c11e5a7fe">&#9670;&#160;</a></span>MAX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SIZE&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga81f25d9ad001edc06df119ee4874c8b8" name="ga81f25d9ad001edc06df119ee4874c8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81f25d9ad001edc06df119ee4874c8b8">&#9670;&#160;</a></span>MAX_SPI_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SPI_SIZE&#160;&#160;&#160;1023</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab4b1dc828c04d79f060b611b1984b311" name="gab4b1dc828c04d79f060b611b1984b311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4b1dc828c04d79f060b611b1984b311">&#9670;&#160;</a></span>am_gpio0_001f_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_gpio0_001f_isr </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8bfddc39e6c95fc5b6a27d753ca8023a" name="ga8bfddc39e6c95fc5b6a27d753ca8023a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bfddc39e6c95fc5b6a27d753ca8023a">&#9670;&#160;</a></span>clear_rx_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear_rx_buf </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8a20065ba26cee2db2558577a6c4fa7b" name="ga8a20065ba26cee2db2558577a6c4fa7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a20065ba26cee2db2558577a6c4fa7b">&#9670;&#160;</a></span>cntlr_int_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cntlr_int_handler </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga4c91434fc829a3b0af45c89aec19b59a" name="ga4c91434fc829a3b0af45c89aec19b59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c91434fc829a3b0af45c89aec19b59a">&#9670;&#160;</a></span>iom_device_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iom_device_read </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5b20041885bfcf38d054adacd5a3cde7" name="ga5b20041885bfcf38d054adacd5a3cde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b20041885bfcf38d054adacd5a3cde7">&#9670;&#160;</a></span>iom_device_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iom_device_write </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab8a9a0449ae2bcf4911e6c364da9302a" name="gab8a9a0449ae2bcf4911e6c364da9302a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab8a9a0449ae2bcf4911e6c364da9302a">&#9670;&#160;</a></span>update_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_progress </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32NumBytes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8db66fef6844b8d81920fc4579086000" name="ga8db66fef6844b8d81920fc4579086000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8db66fef6844b8d81920fc4579086000">&#9670;&#160;</a></span>validate_rx_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t validate_rx_buf </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>rxSize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga49eabd8baee8527a4ca82aaf24a59fe8" name="ga49eabd8baee8527a4ca82aaf24a59fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49eabd8baee8527a4ca82aaf24a59fe8">&#9670;&#160;</a></span>bIosInt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool bIosInt = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2ad0803f284b08a98510dc2a2e093382" name="ga2ad0803f284b08a98510dc2a2e093382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ad0803f284b08a98510dc2a2e093382">&#9670;&#160;</a></span>g_AM_BSP_GPIO_HANDSHAKE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const am_hal_gpio_pincfg_t g_AM_BSP_GPIO_HANDSHAKE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .GP.cfg_b.uFuncSel       = AM_HAL_PIN_4_GPIO,</div>
<div class="line">    .GP.cfg_b.eDriveStrength = AM_HAL_GPIO_PIN_DRIVESTRENGTH_0P1X,</div>
<div class="line">    .GP.cfg_b.eIntDir        = AM_HAL_GPIO_PIN_INTDIR_LO2HI,</div>
<div class="line">    .GP.cfg_b.eGPInput       = AM_HAL_GPIO_PIN_INPUT_ENABLE,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaab69b4ea2bee14ab0603f4a9dd17575c" name="gaab69b4ea2bee14ab0603f4a9dd17575c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab69b4ea2bee14ab0603f4a9dd17575c">&#9670;&#160;</a></span>g_IOMHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* g_IOMHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8968aad7d25777abda5b5ba1964516de" name="ga8968aad7d25777abda5b5ba1964516de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8968aad7d25777abda5b5ba1964516de">&#9670;&#160;</a></span>g_pui8RcvBuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_pui8RcvBuf[<a class="el" href="group__ios__burst__controller.html#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaaf49278b66a54bea9634dab79a1af2cb" name="gaaf49278b66a54bea9634dab79a1af2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf49278b66a54bea9634dab79a1af2cb">&#9670;&#160;</a></span>g_startIdx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t g_startIdx = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gabb7ce9ca283cdf0b90ccb7ffdab24324" name="gabb7ce9ca283cdf0b90ccb7ffdab24324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb7ce9ca283cdf0b90ccb7ffdab24324">&#9670;&#160;</a></span>g_ui32LastUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32LastUpdate = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Thu Oct 30 2025 19:23:46 for the AmbiqSuite Examples Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
