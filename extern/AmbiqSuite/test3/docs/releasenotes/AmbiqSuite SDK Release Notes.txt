**********************************************************************************************************
Apollo510 SDK5.2.alpha.1.1 released on October 31, 2025. (GIT SHA release_sdk5_2_a_1_1-c2486c8ef9)

This is an Alpha/Beta-customer only release of the AmbiqSuite SDK targeting the Apollo330P family.

This release will support Trim 1 and Trim 2 samples of Apollo330P.

Please note that this is a limited release to enable the Apollo330 Plus Series EVB, Revision 1.0. Full 
example support will come as part of a later release. 

**********************************************************************************************************

SDK includes a set of examples.  See /boards/*/examples.

IDE/ToolChain Support:
----------------------
AmbiqSuite SDK supports GCC, IAR EWARM, and Keil MDK.
- GCC: 13.2r1
- Keil6: ARMCC 6230001 (MDK version 5.42a)
- IAR EWARM is not yet supported, it will be included in a future release
- The release contains a directory at the top level /debugger_updates
    * For Segger J-Link debuggers, Apollo330P is supported by installing J-Link v8.40 or later along with the provided J-Link debugger update
      - Please see Apollo330P_510L_README.txt in the zip file for installation instructions.
    * For Keil MDK, Apollo330P is supported by installing the CMSIS Ambiq Pack AmbiqMicro.Apollo_DFP.1.5.6. 
    * By default, Apollo330P projects in this release select the AP330MPA-CBR BGA device.

Important notes:
----------------
- This release supports both Apollo330P and Apollo510L in HAL. New HAL directory for apollo330P & \tools\apollo330P_scripts directory
  - Only examples for apollo330mP_evb are included. 
- System design requires on chip CM4 (a.k.a. Radio Subsystem, or RSS) firmware to control high speed crystal (XTAL_HS) or radio functions. 
  - If application intends to use XTAL_HS or Radio, it is required to call am_hal_pwrctrl_rss_bootup() to turn on the Radio Subsystem.
    - am_devices_510L_radio_init() in turn makes this call implicitly, if RSS is not turned on already.
- Factory parts are shipped with default XTAL_HS-only image for RSS. 
  - Separate Update images for Radio firmware are provided in \tools\apollo510L_scripts\firmware_updates
    - Depending on particular Radio SKU, one or more of these updates can be installed to update the RSS capabilities
    - Included in each directory with the released update file is a Jlink script for loading and processing the OTA update.
    - Please see respective history.txt for release notes corresponding to individual firmware updates
- Temperature Compensation (TempCo): It is required for the application to have active periodic temperature monitoring integrated for proper 
  power regulation & for optimal active power consumption using HAL interface am_hal_pwrctrl_temp_update().
  Applications will be required to have periodic temp sense – and make a call to this API with following guidelines:
  - Call this API at init based on first temp reading
    --- This API returns a structure – notifying of thresholds when application should make this call again
  - Monitor temperature periodically, and call the API when supplied thresholds are breached in either direction.
  Application could use Apollo5 ADC based temp sensing, or have other means to do temp monitoring.
  Sampling frequency can be optimized based on usage, as long as it is fast enough to detect a temp diff of 10C
  An example application is provided with SDK using on-chip ADC (\boards\apollo510L_eb\examples\power\tempco)
- Low Power Initialization Sequence requirements:
  Applications are required to follow the below sequence for initialization:
  am_hal_pwrctrl_low_power_init -> am_hal_pwrctrl_control (AM_HAL_PWRCTRL_CONTROL_SIMOBUCK_INIT) -> am_hal_pwrctrl_temp_update()
- Multi-image transition requirements
  For multi-image situations, application must call am_hal_pwrctrl_settings_restore() before exiting one application to transition to other
- External pSRAM bandwidth limitations — whether caused by insufficient interface frequency or contention from concurrent memory access
  activities such as XIP may result in display image corruption. As a mitigation, the MANUALLY_CONTROL_DBIB_CSX option may be enabled.
  This can avoid the risk of display corruption but comes at the cost of increased CPU load.
  
Known Issues:
-------------
- There are known issues operating Trim2 parts at temperature at or below -20C. It should be avoided.
- PLL vs BT Clock Mismatch: It's observed that PLL clock runs faster than BT clock for LE Audio, which can cause timing issues and packet synchronization  
  problems. This may result in audio artifacts, packet drops, or timing-related performance issues over longer duration test
- A hardware errata is being released separately. This document only lists Software specific constraints/issues.
- When accurate clock is needed applications are recommended to use PLL instead of HFRC. HFRC with HFADJ is not yet fully tested.
- The Ambiq recovery image for MRAM recovery has not been included in this SDK release, as it had not yet been fully tested in all its various configurations.
  - MRAM recovery support and supporting examples/tools will be included in future updates.
- The Apollo33P HAL compilation needs the ThinkSi and LVGL third-party files even though these files are not relevant to the Apollo330P SoC. 
  - This dependency will be addressed in a future release of the SDK.
- Certain third-party files rely on defines that are present only in the Apollo510L HAL. Therefore, the Apollo510L HAL needs to be present for Apollo330P compilation.
  - This dependency will be addressed in a future release of the SDK.
- The Keil make process for examples that utilize the /open-amp/libmetal/ third party library has an issue. Users need to use the Keil uVision IDE to successfully compile
  those examples. For GCC, the make process should take place specifically within the GCC folder for those examples. The examples include uart_hci_bridge, ble_freertos_fit,
  and ble_freertos_throughput. 

Top Level Directory Structure:
------------------------------

.
+---ambiq_ble <BLE apps/profiles/services used on top of Cordio>
+---boards
|   +---apollo330mP_evb
|   |   +---bsp <Board Specific code>
|   |   ∟---examples
+---CMSIS <ARM CMSIS definitions and functions>
+---debugger_updates <Updates for Segger J-Link and Keil to support Apollo330P/Apollo510L part numbers>
+---devices <Device drivers>
+---docs
|   +---licenses
|   +---registers <Register Documentation>
|   +---releasenotes <Release Notes and Change History>
|   ∟---user_guide <Doxygen User Guide>
+---makedefs <Part of build infrastructure>
+---mcu <HAL and Register definitions>
|   ∟---apollo510L <Apollo330P/Apollo510L>
+---pack
|   ∟---SVD
+---third_party <Third Party Code/Documents>
|   +---cordio <BLE Stack>
|   +---crypto <Crypto library from ARM>
|   +---FatFs <Generic FatFS implementation from open source>
|   +---FreeRTOSv10.5.1 <Reference FreeRTOS implementation>
|   +---LVGL <Light and Versatile Graphics Library implementation>
|   +---open-amp <Open Asymmetric Multi Processing framework>
|   +---SEGGER <Segger RTT implementation>
|   +---ThinkSi <ThinkSilicon NemaGFX Graphics Library assets>
|   +---tinyusb <TinyUSB USB stack implementation>
|   ∟---uecc <small and fast ECDH and ECDSA implementation>
+---tools
|   +---apollo5
|   +---apollo330P_scripts <Apollo330P Provisioning and Image generation/update tools, along with SBL & Radio image updates>
|   +---apollo5_amota <Tools to interact with Ambiq's BLE Reference Application for image download and updates>
|   +---ble_throughput_app 
|   +---bootloader_scripts
|   +---bsp_generator <Tools for automated BSP generation>
|   +---config <Part of build infrastructure>
|   +---linker_config <Part of build infrastructure>
|   ∟---syspll-cfg <Spreadsheet tool to configure PLL for audio peripherals>
∟---utils <General utilities and functions>
